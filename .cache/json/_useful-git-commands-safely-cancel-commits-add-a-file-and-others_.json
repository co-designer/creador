{"data":{"post":{"id":"cG9zdDoxNTk0","excerpt":"<p>Git is a powerful, albeit simple-looking, a tool that, if used carelessly, can make a big mess. Therefore, before trying to perform various tricks with Git, I recommend that you familiarize yourself with its main commands (init, clone, push, pull, status, log, etc.) and concepts (repository, branch, commit, etc. ) So, if you feel confident working [&hellip;]</p>\n","content":"\n<p>Git is a powerful, albeit simple-looking, a tool that, if used carelessly, can make a big mess. Therefore, before trying to perform various tricks with Git, I recommend that you familiarize yourself with its main commands (init, clone, push, pull, status, log, etc.) and concepts (repository, branch, commit, etc. )</p>\n\n\n\n<p>So, if you feel confident working with Git, here are some useful tricks that I know about.</p>\n\n\n\n<p><a href=\"https://github.com/\" target=\"_blank\" rel=\"noreferrer noopener\">GitHub</a></p>\n\n\n\n<h3>Reflog Cancel operations</h3>\n\n\n\n<div class=\"wp-block-image\"><figure class=\"aligncenter size-large\"><span class=\"wp-image-1740 inline-gatsby-image-wrapper gatsby-image-wrapper\" style=\"position:relative;overflow:hidden;max-width:100%;width:446px\" data-reactroot=\"\"><span aria-hidden=\"true\" style=\"width:100%;padding-bottom:59.82142857142858%\"></span><img aria-hidden=\"true\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsTAAALEwEAmpwYAAACE0lEQVQoz0WSW2/iMBCFJwkBUVXQLMjNxcSO40uMTWInKaiFQh92//9fWiVIu9/DvB2dM3MG1q/89dUs8QHa01owJX4p1eR53rZtlmXRTBzH0SIKgmAxs1wu4zgOggCqCr6+gBwgCoLB+9+//zjnkiThnGOMhRBKqePx2DQNY8w5VxRF0zTe+yRJIE3BGCAEwjB0rrter1LK7XZ7uVwIIYfD4XK5MMYopV3XOecIIYwxKaUxBqQA38MBQxSFw9A/Hg+t9WazGccRY1yWZd/3UkqtNca4qioxgzEmhIAQ4B3gAhaL0Pf+8XicTqftduucq6qqLEvvPedcKSWEoJTebjdrbVmWVVVBUYDW8P4+OXddd7/fj8fjW/LWdZ0xBiHEOZdSMsa01oQQrXWWZQihLMuAUuh7wHhy7nt/v9+11mmaDuNICCmKYhxHKWVd1+fzebfbrVarl5eX5cx0qo+PaUZROI7jz8+PMSZJEmstxlhr7ZyTUuZ5rpTSWg/D0HVdmqZ5noOSMAyQ5/9jt2272WzO5zPn/KmRUnLOm6ahlA7DYK2llE5iQqDrIMsmsff+drt57/f7vZSybVuEkLWWc/5s61l7WZZCCIQQVBROdmo7jqfY39/f/8Raa4QQY0w1yhhT1zVjzHtf13UURavVCqScP2ze2Tn3db1aa3e7ndbaWrvf751zn5+f6/U6nHl+KMz8BWnaWI+wgPBjAAAAAElFTkSuQmCC\" alt=\"\" style=\"position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:0;transition-delay:500ms\"/><picture><source srcSet=\"/static/6652545690d8f3ecfbf28903c0235215/5b174/github-reflog.png 112w,\n/static/6652545690d8f3ecfbf28903c0235215/5d50f/github-reflog.png 223w,\n/static/6652545690d8f3ecfbf28903c0235215/8e065/github-reflog.png 446w\" sizes=\"(max-width: 446px) 100vw, 446px\"/><img sizes=\"(max-width: 446px) 100vw, 446px\" srcSet=\"/static/6652545690d8f3ecfbf28903c0235215/5b174/github-reflog.png 112w,\n/static/6652545690d8f3ecfbf28903c0235215/5d50f/github-reflog.png 223w,\n/static/6652545690d8f3ecfbf28903c0235215/8e065/github-reflog.png 446w\" src=\"/static/6652545690d8f3ecfbf28903c0235215/8e065/github-reflog.png\" alt=\"git-reflog-operations\" loading=\"eager\" style=\"position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition:opacity 500ms\"/></picture><noscript><picture><source srcset=\"/static/6652545690d8f3ecfbf28903c0235215/5b174/github-reflog.png 112w,\n/static/6652545690d8f3ecfbf28903c0235215/5d50f/github-reflog.png 223w,\n/static/6652545690d8f3ecfbf28903c0235215/8e065/github-reflog.png 446w\" sizes=\"(max-width: 446px) 100vw, 446px\" /><img loading=\"eager\" sizes=\"(max-width: 446px) 100vw, 446px\" srcset=\"/static/6652545690d8f3ecfbf28903c0235215/5b174/github-reflog.png 112w,\n/static/6652545690d8f3ecfbf28903c0235215/5d50f/github-reflog.png 223w,\n/static/6652545690d8f3ecfbf28903c0235215/8e065/github-reflog.png 446w\" src=\"/static/6652545690d8f3ecfbf28903c0235215/8e065/github-reflog.png\" alt=\"git-reflog-operations\" style=\"position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center\"/></picture></noscript></span></figure></div>\n\n\n\n<p>I remember that at the beginning of my acquaintance with Git, I was afraid to run teams.&nbsp;I thought I would ruin everything.&nbsp;For example, the first use&nbsp;&nbsp;<code>git rebase</code>&nbsp;caused me several exclamations like “Here *****!&nbsp;What have I just done ?! ”&nbsp;due to duplicate or completely disappeared commits.&nbsp;Soon after, I realized that I needed to move on.</p>\n\n\n\n<p>Personally, I do not like to use the tool, not knowing what it does to achieve the result.&nbsp;It&#8217;s like driving a car without a steering wheel: everything is fine until you reach a turn.&nbsp;And then what?&nbsp;Well, you understand me.</p>\n\n\n\n<p>So, in our business it is very important to understand the concepts.&nbsp;I&nbsp;read a&nbsp;lot&nbsp;about Git&nbsp;, went through several training courses, and my vision of the Git world has changed dramatically.&nbsp;Using it, I began to feel much calmer, and more importantly, I knew its true power.&nbsp;And one of the most powerful teams is&nbsp;&nbsp;<code>git reflog</code>.</p>\n\n\n\n<p>Using&nbsp;&nbsp;<code>reflog</code>, you can go back in time, undoing almost any activity done in Git.&nbsp;Even if it were&nbsp;<code>rebase</code>or&nbsp;&nbsp;<code>reset</code>.&nbsp;In addition, it is easy to use.&nbsp;To prove this, I will give a small example.</p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: bash; title: ; notranslate\" title=\"\">\n$ git reflog\n1234571 HEAD@{0}: checkout: moving from one-branch to another-branch\n1234570 HEAD@{1}: merge origin/feature-branch: Fast-forward\n1234569 HEAD@{2}: commit: The commit message goes here.\n1234568 HEAD@{3}: reset: moving to 2234567\n1234567 HEAD@{4}: rebase finished: returning to refs/heads/one-branch\n</pre></div>\n\n\n<p>To change the desired state, you need to start&nbsp;<code>checkout</code>using the absolute link:</p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: bash; title: ; notranslate\" title=\"\">\n$ git checkout 1234568\n</pre></div>\n\n\n<p>or relative link:</p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: bash; title: ; notranslate\" title=\"\">\n$ git checkout HEAD@{3}\n</pre></div>\n\n\n<p>and you will find yourself in a&nbsp;<em>detached</em>&nbsp;&nbsp;HEAD state from which you can create a new branch.</p>\n\n\n\n<p>That&#8217;s all.&nbsp;All operations after the above state are cancelled.</p>\n\n\n\n<h3>Revert Discard commit changes</h3>\n\n\n\n<div class=\"wp-block-image\"><figure class=\"aligncenter size-large\"><img loading=\"lazy\" width=\"604\" height=\"323\" src=\"/static/d22b76bb82569f02c34b0518c8af57a9/git-revert.png\" alt=\"git-revert\" class=\"wp-image-1748\" srcset=\"/static/d22b76bb82569f02c34b0518c8af57a9/git-revert.png 604w, http://localhost/creador-backend/wp-content/uploads/2020/04/git-revert-300x160.png 300w\" sizes=\"(max-width: 604px) 100vw, 604px\" /></figure></div>\n\n\n\n<p>You must have encountered a situation where you needed to undo some changes.&nbsp;The team will come to the rescue&nbsp;<code>revert</code>:</p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: bash; title: ; notranslate\" title=\"\">\n$ git revert &lt;commit&gt;\n</pre></div>\n\n\n<p>What she does?&nbsp;It simply cancels the actions of past commits, creating a new one containing all the canceled changes.&nbsp;Why use it instead of other solutions?&nbsp;This is the only safe way, since it does not change the history of commits.&nbsp;It is commonly used in public branches where changing the story is undesirable.</p>\n\n\n\n<p>Let&#8217;s take a look at other commands that can undo actions.</p>\n\n\n\n<h4>Rebase</h4>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: bash; title: ; notranslate\" title=\"\">\n$ git rebase --interactive\n</pre></div>\n\n\n<p>You can execute this command and just remove lines related to unnecessary commits.&nbsp;This is the most obvious and simplest solution, but it has a drawback because of which it cannot be used in public branches: it changes the history of commits.&nbsp;Therefore, after rebase, you may have a problem with push.</p>\n\n\n\n<h4>Reset</h4>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: bash; title: ; notranslate\" title=\"\">\n$ git reset --hard &lt;commit&gt;\n</pre></div>\n\n\n<p>This command deletes all commits above the specified one.&nbsp;It is better than the previous one in that it does not add new information to the story, but nonetheless also changes it.</p>\n\n\n\n<h4>Checkout</h4>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: bash; title: ; notranslate\" title=\"\">\n$ git checkout &lt;commit&gt; -- &lt;filename&gt;\n</pre></div>\n\n\n<p>This command rolls back the selected file to a state in an earlier version of the specified commit.&nbsp;The canceled changes will be in the working directory, and they can be commited as you like.</p>\n\n\n\n<p>The conclusion is that it&nbsp;&nbsp;<code>git revert</code>&nbsp;is the safest operation to undo.&nbsp;In addition, it should be noted that these teams are not interchangeable in 100% of cases.</p>\n\n\n\n<h3>Log.&nbsp;Better formatting</h3>\n\n\n\n<p>It&#8217;s&nbsp;&nbsp;<code>git log</code>&nbsp;simple with.&nbsp;You enter a command and see the history of commits in chronological order, and each item includes a hash of the commit, author, date, and an attached message.</p>\n\n\n\n<p>Let&#8217;s take a look at the default log view:</p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: bash; title: ; notranslate\" title=\"\">\n$ git log\ncommit 01ba45f789abcdef9876543210fedcba01234567\nAuthor: First Last &lt;email@domain.com&gt;\nDate: Wed Apr 13 17:00:01 2016 +0300\n\nThe last commit message goes here.\n\ncommit 01cf4a6789abcdef9876543210fedcba01234568\nAuthor: First Last &lt;email@domain.com&gt;\nDate: Wed Apr 12 16:24:03 2016 +0300\n\nAnother commit message goes here.\n\ncommit 01bf456789abcdef9876543210fedcba01234568\nAuthor: First Last &lt;email@domain.com&gt;\nDate: Wed Apr 11 15:30:33 2016 +0300\n\nAnother commit message goes here.\n</pre></div>\n\n\n<p>I think it could be better.</p>\n\n\n\n<p>I prefer simple things.&nbsp;Therefore, I use two options:</p>\n\n\n\n<ul><li><code>--oneline</code>&#8211; shows each commit in one line.&nbsp;In addition, it shows only the commit ID prefix.</li><li><code>--decorate</code>&nbsp;&#8211; Prints all relative names of the displayed commits.</li></ul>\n\n\n\n<p>Here&#8217;s what it looks like:</p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: bash; title: ; notranslate\" title=\"\">\n$ git log --oneline --decorate\n01ba45f (HEAD -&gt; origin/feature-branch, feature-branch) The last commit message goes here.\n01cf4a6 Another commit message goes here.\n01bf456 (origin/dev, dev) Another commit message goes here.\n</pre></div>\n\n\n<p>The option&nbsp;&nbsp;<code>--oneline</code>&nbsp;reduces the number of occupied lines, and the option&nbsp;&nbsp;<code>--decorate</code>&nbsp;adds relative names (local / remote branches + HEAD).&nbsp;Using these two options, we get a more compact and meaningful&nbsp;&nbsp;<code>git log</code>.&nbsp;Yes, we lose some things, but they are not particularly important.&nbsp;So much better, right?</p>\n\n\n\n<p>However, sometimes we need to know the date and author of the commit.&nbsp;In such cases, I use the following:</p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: bash; title: ; notranslate\" title=\"\">\n$ git log --color --pretty=format:&quot;%C(yellow)%h%C(reset) %s%C(bold red)%d%C(reset) %C(green)%ad%C(reset) %C(blue)&#91;%an]%C(reset)&quot; --relative-date --decorate\n</pre></div>\n\n\n<p>Wow!&nbsp;Let&#8217;s see how it looks:</p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: bash; title: ; notranslate\" title=\"\">\n$ git log --color --pretty=format:&quot;%C(yellow)%h%C(reset) %s%C(bold red)%d%C(reset) %C(green)%ad%C(reset) %C(blue)&#91;%an]%C(reset)&quot; --relative-date --decorate\n01ba45f The last commit message goes here. (HEAD -&gt; origin/feature-branch, feature-branch) 3 seconds ago &#91;First Last]\n01cf4a6 Another commit message goes here. 1 day ago &#91;First Last]\n01bf456 Another commit message goes here. (origin/dev, dev) 2 days ago &#91;First Last]\n</pre></div>\n\n\n<p>Still, entering these commands every time is quite inconvenient, right?&nbsp;Let&#8217;s create aliases.&nbsp;I believe that using aliases greatly improves productivity.&nbsp;To register them, add the following lines to &#8220;~ / .bash_profile&#8221; (of course, if you use * nix OS):</p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: bash; title: ; notranslate\" title=\"\">\nalias gl='git log --oneline --decorate'\nalias gh='git log --color --pretty=format:&quot;%C(yellow)%h%C(reset) %s%C(bold red)%d%C(reset) %C(green)%ad%C(reset) %C(blue)&#91;%an]%C(reset)&quot; --relative-date --decorate'\n</pre></div>\n\n\n<p>Thus, we got not only a good looking commit history, but also a simplified way to access it using the&nbsp;<code>gl</code>&nbsp;and&nbsp;&nbsp;commands&nbsp;&nbsp;<code>gh</code>.</p>\n\n\n\n<h3>Diff&nbsp;Difference between commits</h3>\n\n\n\n<p>A simple command showing changes between objects in a project&nbsp;&nbsp;<code>git diff</code>.&nbsp;One of the main scenarios for its use is comparing two commits:</p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: bash; title: ; notranslate\" title=\"\">\n$ git diff &lt;commit1&gt;..&lt;commit2&gt;\n</pre></div>\n\n\n<p>The other is the output of all changes not made to the index.&nbsp;To do this, do the following:</p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: bash; title: ; notranslate\" title=\"\">\n$ git diff --cached\n</pre></div>\n\n\n<h3>Branch&nbsp;Check merge branches</h3>\n\n\n\n<p>I think you already know what the basic command does&nbsp;&nbsp;<code>git branch</code>&nbsp;<em>(it displays a list of local branches without options &#8211; approx. Transl.)</em>&nbsp;, So let&#8217;s get down to business.&nbsp;From time to time, you will need to remove old or unnecessary branches from your git &#8220;tree&#8221;.</p>\n\n\n\n<p>Using the following:</p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: bash; title: ; notranslate\" title=\"\">\n$ git branch --merged\n</pre></div>\n\n\n<p>You will get a list of all branches connected to the current one.</p>\n\n\n\n<p>You can and vice versa:</p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: bash; title: ; notranslate\" title=\"\">\n$ git branch --no-merged\n</pre></div>\n\n\n<p>So you get a list of all branches that are not connected to the current one.</p>\n\n\n\n<p>Thus, you will always find out whether deleting a particular branch is safe.</p>\n\n\n\n<h3>Checkout&nbsp;Retrieving a file from another branch</h3>\n\n\n\n<p>You probably had to look for a specific version of the file that was in another, not yet attached branch.&nbsp;Remember the command&nbsp;<code>checkout</code>above?&nbsp;It looks like this:</p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: bash; title: ; notranslate\" title=\"\">\n$ git checkout &lt;commit&gt; -- &lt;filename&gt;\n</pre></div>\n\n\n<p>The specified file will be cast to the version specified in the given commit.&nbsp;We used to use this to undo file changes.&nbsp;Conveniently, this commit does not have to be in the same branch as our file.&nbsp;Therefore, we can ask any file any version from any commit or branch.</p>\n\n\n\n<p>I hope you find something useful here.</p>\n\n\n\n<p><a href=\"http://localhost/creador-backend/git-commands-to-fix-mistakes-and-how-to-cancel-it/‎(opens in a new tab)\">How to fix Git Commands mistakes</a></p>\n","title":"Useful Git Commands: safely cancel commits, add a file, and others","date":"April 19, 2020","featuredImage":{"node":{"altText":"github-commands","localFile":{"childImageSharp":{"fluid":{"tracedSVG":"data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='400'%20height='210'%20viewBox='0%200%20400%20210'%20preserveAspectRatio='none'%3e%3cpath%20d='M146%2030c-3%204-4%2017-2%2023%201%203%201%204-3%208-11%2017-8%2046%206%2060%207%207%2022%2013%2030%2013%203%200%204%200%201%204l-2%206c-2%204-2%205-6%206-10%203-18%200-25-10-5-8-13-12-18-10-3%200-2%202%203%207%204%203%207%207%209%2012%207%2013%2013%2016%2027%2016h8v7h-13c-68%204-112%2010-149%2020l-12%203v15h401v-8c0-5%200-8-1-7l-10-2c-36-11-83-17-153-21h-12v-12c0-13-2-21-5-23-2-2-1-3%202-3%2010%200%2027-8%2034-17%2011-15%2012-41%202-56-3-3-3-4-2-12%200-9-1-18-3-19-3-1-12%201-20%205l-8%205-8-2c-9-1-31-1-39%201-3%201-4%201-10-2-9-6-20-9-22-7M91%2061l-1%205c0%205%203%207%208%205%203-1%204-7%202-10h-9m102%2014l-6%204-1%208v9l7%203%207%204%207-4%206-3V79l-3-2-7-4-4-2-6%204m7%205v7l5%203%206%203%201-6v-7l-5-3-6-3-1%206m-8-2c-4%202-4%202-4%208v6l5-2%205-3v-6c0-7%200-7-6-3m2%2013l-5%204%205%203%206%203%204-3c7-3%207-3%200-7l-5-3-5%203m97%206l-1%205c0%205%203%207%208%205%203-1%204-7%202-10h-9'%20fill='%23d3d3d3'%20fill-rule='evenodd'/%3e%3c/svg%3e","aspectRatio":1.893939393939394,"src":"/static/f96a5fbfb901a010426fde0458a9bc01/5d2c5/github.png","srcSet":"/static/f96a5fbfb901a010426fde0458a9bc01/002c1/github.png 250w,\n/static/f96a5fbfb901a010426fde0458a9bc01/53f65/github.png 500w,\n/static/f96a5fbfb901a010426fde0458a9bc01/5d2c5/github.png 1000w,\n/static/f96a5fbfb901a010426fde0458a9bc01/aa02a/github.png 1203w","sizes":"(max-width: 1000px) 100vw, 1000px"}}}}}},"previous":{"uri":"/git-commands-to-fix-mistakes-and-how-to-cancel-it/","title":"Git commands to fix mistakes and How to cancel it?"},"next":{"uri":"/how-to-create-procedural-art-in-less-than-100-lines-of-code/","title":"How to create procedural art in less than 100 lines of code"}},"pageContext":{"id":"cG9zdDoxNTk0","previousPostId":"cG9zdDoxNTkz","nextPostId":"cG9zdDoxNTY4"}}