{"componentChunkName":"component---src-templates-blog-post-js","path":"/gatsby-js-starter-guide-for-beginners/","result":{"data":{"post":{"id":"cG9zdDoxNTYw","excerpt":"<p>1. Introducing Gatsby Building Blocks In the previous section, you prepared the local development environment by installing the necessary software and creating your first Gatsby website using the&nbsp;“hello world” starter.&nbsp;Now dive deeper into the code generated by this starter. Using Gatsby Starters When creating a new site on Gatsby, you can use the following command [&hellip;]</p>\n","content":"\n<h2>1. Introducing Gatsby Building Blocks</h2>\n\n\n\n<figure class=\"wp-block-image size-large\"><span class=\"wp-image-1758 inline-gatsby-image-wrapper gatsby-image-wrapper\" style=\"position:relative;overflow:hidden;max-width:100%;width:1024px\" data-reactroot=\"\"><span aria-hidden=\"true\" style=\"width:100%;padding-bottom:56.25%\"></span><img aria-hidden=\"true\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAABPUlEQVQoz21Sy07DQAzM//8GZ+7c+AJOHDlwQFSi9JG02YcfM0a7SasW1Yqi9cie3Rl7AMFgdc1aDcbggjDoRNK6pmx4tEpJUnvKgWREFJNZi8EjwoHoAXLWgl5wxatrgUQ0vsHUa9Z0kvEnpan2m5eb1p5rgARognmsbgAwrJC6VFN1gLhp430zGbXYtM9uTcVg5mUWUz9uZ6nmDgfKLDXr8raVgNE1hzsWhFfNAN0BhxlAvjy9vT6/R8S0z+MuHbfndKqqruLTPk37dB5Le7ZZ02zqp0NWcTOY4+tjt/k8RISKSbGaVWojJ1mySmlgcxuAW/s6BeA3mvnfMDKaKueSDiCkWEk67lI+yzLAh263yRt+N6ff7+m4m5thS5mqlyQmfc5EPArcEnb+oUMXT/vRLyt19+8btqbrwvEPYACHnSYqPf8AAAAASUVORK5CYII=\" alt=\"\" style=\"position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:0;transition-delay:500ms\"/><picture><source srcSet=\"/static/c86b0731a8e2d006098f5805f044cfaf/85b06/gatsby-process.png 256w,\n/static/c86b0731a8e2d006098f5805f044cfaf/bc282/gatsby-process.png 512w,\n/static/c86b0731a8e2d006098f5805f044cfaf/f1720/gatsby-process.png 1024w,\n/static/c86b0731a8e2d006098f5805f044cfaf/437a1/gatsby-process.png 1536w,\n/static/c86b0731a8e2d006098f5805f044cfaf/3f039/gatsby-process.png 1779w\" sizes=\"(max-width: 1024px) 100vw, 1024px\"/><img sizes=\"(max-width: 1024px) 100vw, 1024px\" srcSet=\"/static/c86b0731a8e2d006098f5805f044cfaf/85b06/gatsby-process.png 256w,\n/static/c86b0731a8e2d006098f5805f044cfaf/bc282/gatsby-process.png 512w,\n/static/c86b0731a8e2d006098f5805f044cfaf/f1720/gatsby-process.png 1024w,\n/static/c86b0731a8e2d006098f5805f044cfaf/437a1/gatsby-process.png 1536w,\n/static/c86b0731a8e2d006098f5805f044cfaf/3f039/gatsby-process.png 1779w\" src=\"/static/c86b0731a8e2d006098f5805f044cfaf/f1720/gatsby-process.png\" alt=\"Gatsby Process\" loading=\"eager\" style=\"position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition:opacity 500ms\"/></picture><noscript><picture><source srcset=\"/static/c86b0731a8e2d006098f5805f044cfaf/85b06/gatsby-process.png 256w,\n/static/c86b0731a8e2d006098f5805f044cfaf/bc282/gatsby-process.png 512w,\n/static/c86b0731a8e2d006098f5805f044cfaf/f1720/gatsby-process.png 1024w,\n/static/c86b0731a8e2d006098f5805f044cfaf/437a1/gatsby-process.png 1536w,\n/static/c86b0731a8e2d006098f5805f044cfaf/3f039/gatsby-process.png 1779w\" sizes=\"(max-width: 1024px) 100vw, 1024px\" /><img loading=\"eager\" sizes=\"(max-width: 1024px) 100vw, 1024px\" srcset=\"/static/c86b0731a8e2d006098f5805f044cfaf/85b06/gatsby-process.png 256w,\n/static/c86b0731a8e2d006098f5805f044cfaf/bc282/gatsby-process.png 512w,\n/static/c86b0731a8e2d006098f5805f044cfaf/f1720/gatsby-process.png 1024w,\n/static/c86b0731a8e2d006098f5805f044cfaf/437a1/gatsby-process.png 1536w,\n/static/c86b0731a8e2d006098f5805f044cfaf/3f039/gatsby-process.png 1779w\" src=\"/static/c86b0731a8e2d006098f5805f044cfaf/f1720/gatsby-process.png\" alt=\"Gatsby Process\" style=\"position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center\"/></picture></noscript></span><figcaption>Gatsby Process</figcaption></figure>\n\n\n\n<p>In the previous section, you prepared the local development environment by installing the necessary software and creating your first Gatsby website using the&nbsp;<a href=\"https://github.com/gatsbyjs/gatsby-starter-hello-world\">“hello world” starter</a>.&nbsp;Now dive deeper into the code generated by this starter.</p>\n\n\n\n<h3>Using Gatsby Starters</h3>\n\n\n\n<div class=\"wp-block-image\"><figure class=\"aligncenter size-large\"><span class=\"wp-image-1759 inline-gatsby-image-wrapper gatsby-image-wrapper\" style=\"position:relative;overflow:hidden;max-width:100%;width:512px\" data-reactroot=\"\"><span aria-hidden=\"true\" style=\"width:100%;padding-bottom:75%\"></span><img aria-hidden=\"true\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAABQklEQVQoz6WQTUsCYRDH9wvVoe/gwV7o0CcoAulgBAaKQd9AgqQX6BBoGkI3ezEJ6SR4CJFITK12bQ+lsLvP0rbP87gzE0pEJ9ulHwPDMPz4D6OszhzGwyeJuVwslEku5OPhbGI2l5zPb4YyK9P7y1OTStleKuxtlA9iN+nodXr9amftPBUp7kYvU5Hi1uLp5FKklI+tTrfz1Gy2mGUTEQACIALSXyie5+m6rmmaqqqMWZxzACB/jGTTMJnFGLMH/YFpGIjoV0ZEzgV3Xc45F0IKCZ5v+fcg3WEle/+mWkTkJ18hQg+IvfbqxWrtrFo+bgh3ONqgn+RxQq/eLqUKt0cls/9Jvvk+GwHuLh46tWefB/88bNQ+TLdR0fS2MZYDJg8FvL9YFBBFSuh2maYy2xbMwmAyIgrBhXAdRzhOQJn+wRfpADJ3pagbDgAAAABJRU5ErkJggg==\" alt=\"\" style=\"position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:0;transition-delay:500ms\"/><picture><source srcSet=\"/static/dc3820754a39f30b76ad7d2eb77b7011/de314/gatsby-starter.png 128w,\n/static/dc3820754a39f30b76ad7d2eb77b7011/85b06/gatsby-starter.png 256w,\n/static/dc3820754a39f30b76ad7d2eb77b7011/bc282/gatsby-starter.png 512w\" sizes=\"(max-width: 512px) 100vw, 512px\"/><img sizes=\"(max-width: 512px) 100vw, 512px\" srcSet=\"/static/dc3820754a39f30b76ad7d2eb77b7011/de314/gatsby-starter.png 128w,\n/static/dc3820754a39f30b76ad7d2eb77b7011/85b06/gatsby-starter.png 256w,\n/static/dc3820754a39f30b76ad7d2eb77b7011/bc282/gatsby-starter.png 512w\" src=\"/static/dc3820754a39f30b76ad7d2eb77b7011/bc282/gatsby-starter.png\" alt=\"Gatsby Starter\" loading=\"eager\" style=\"position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition:opacity 500ms\"/></picture><noscript><picture><source srcset=\"/static/dc3820754a39f30b76ad7d2eb77b7011/de314/gatsby-starter.png 128w,\n/static/dc3820754a39f30b76ad7d2eb77b7011/85b06/gatsby-starter.png 256w,\n/static/dc3820754a39f30b76ad7d2eb77b7011/bc282/gatsby-starter.png 512w\" sizes=\"(max-width: 512px) 100vw, 512px\" /><img loading=\"eager\" sizes=\"(max-width: 512px) 100vw, 512px\" srcset=\"/static/dc3820754a39f30b76ad7d2eb77b7011/de314/gatsby-starter.png 128w,\n/static/dc3820754a39f30b76ad7d2eb77b7011/85b06/gatsby-starter.png 256w,\n/static/dc3820754a39f30b76ad7d2eb77b7011/bc282/gatsby-starter.png 512w\" src=\"/static/dc3820754a39f30b76ad7d2eb77b7011/bc282/gatsby-starter.png\" alt=\"Gatsby Starter\" style=\"position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center\"/></picture></noscript></span><figcaption>Gatsby Starter</figcaption></figure></div>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: plain; title: ; notranslate\" title=\"\">\ngatsby new hello-world https://github.com/gatsbyjs/gatsby-starter-hello-world\n</pre></div>\n\n\n<p>When creating a new site on Gatsby, you can use the following command structure to create a new site based on any existing Gatsby starter:</p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: plain; title: ; notranslate\" title=\"\">\ngatsby new &#91;SITE_DIRECTORY_NAME] &#91;URL_OF_STARTER_GITHUB_REPO]\n</pre></div>\n\n\n<p>If you omit the URL at the end, Gatsby will automatically create the site for you based on the default starter.&nbsp;For this section of the tutorial, stick to the site “Hello World”, which you have already created in the zero part of the tutorial.&nbsp;You can learn more about&nbsp;<a href=\"https://www.gatsbyjs.org/docs/modifying-a-starter\">changing starters</a>&nbsp;in the documentation.</p>\n\n\n\n<h3>Introducing Gatsby Pages</h3>\n\n\n\n<div class=\"wp-block-image\"><figure class=\"aligncenter size-large\"><img loading=\"lazy\" width=\"1024\" height=\"768\" src=\"http://localhost/creador-backend/wp-content/uploads/2020/05/gatsby-header-1-1024x768.jpg\" alt=\"Gatsby Pages\" class=\"wp-image-1762\" srcset=\"http://localhost/creador-backend/wp-content/uploads/2020/05/gatsby-header-1-1024x768.jpg 1024w, http://localhost/creador-backend/wp-content/uploads/2020/05/gatsby-header-1-300x225.jpg 300w, http://localhost/creador-backend/wp-content/uploads/2020/05/gatsby-header-1-768x576.jpg 768w, http://localhost/creador-backend/wp-content/uploads/2020/05/gatsby-header-1-86x64.jpg 86w, http://localhost/creador-backend/wp-content/uploads/2020/05/gatsby-header-1.jpg 1200w\" sizes=\"(max-width: 1024px) 100vw, 1024px\" /><figcaption>Gatsby Pages</figcaption></figure></div>\n\n\n\n<p>Open the directory&nbsp;<code>/src</code>in the code editor.&nbsp;Inside is a single directory:&nbsp;<code>/pages</code>.</p>\n\n\n\n<p>Open the file at&nbsp;<code>src/pages/index.js</code>.&nbsp;The code in this file creates a component that contains one div and some text &#8211; respectively, “Hello world!”</p>\n\n\n\n<p>Gatsby uses a hot reload to speed up the development process.&nbsp;In fact, when the Gatsby development server is running, each time you save the file, the Gatsby site files are “viewed” in the background and your changes are immediately displayed in the browser.&nbsp;You do not need to manually refresh the page or restart the development server.</p>\n\n\n\n<h2>Gatsby data</h2>\n\n\n\n<figure class=\"wp-block-image size-large\"><img loading=\"lazy\" width=\"1024\" height=\"576\" src=\"http://localhost/creador-backend/wp-content/uploads/2020/05/gatsby-process-1024x576.png\" alt=\"gatsby process\" class=\"wp-image-1758\" srcset=\"http://localhost/creador-backend/wp-content/uploads/2020/05/gatsby-process-1024x576.png 1024w, http://localhost/creador-backend/wp-content/uploads/2020/05/gatsby-process-300x169.png 300w, http://localhost/creador-backend/wp-content/uploads/2020/05/gatsby-process-768x432.png 768w, http://localhost/creador-backend/wp-content/uploads/2020/05/gatsby-process-1536x863.png 1536w, http://localhost/creador-backend/wp-content/uploads/2020/05/gatsby-process.png 1779w\" sizes=\"(max-width: 1024px) 100vw, 1024px\" /></figure>\n\n\n\n<p>In the next four parts of the tutorial (including this one), you will dive into the Gatsby data layer, which is a powerful Gatsby feature that makes it easy to create sites from Markdown, WordPress, headless CMSs and other data sources of all tastes.</p>\n\n\n\n<p>Gatsby&#8217;s data layer runs on GraphQL.&nbsp;About GraphQL, you can read the article&nbsp;<a href=\"https://www.howtographql.com/\">How to use GraphQL</a>.</p>\n\n\n\n<p>The website has four parts: HTML, CSS, JS, and data.&nbsp;Let&#8217;s find out how to use data on Gatsby sites.</p>\n\n\n\n<p>What is data?</p>\n\n\n\n<p>A very computerized answer would be: data is things like “strings”, integers (42), objects ({pizza: true}), etc.</p>\n\n\n\n<p>For the purposes of working at Gatsby, however, a more useful answer is “everything that lives outside the React component”.</p>\n\n\n\n<p>So far, you have written text and added images directly to components.&nbsp;Which is a great way to create many websites.&nbsp;But often you need to store data outside the components, and then enter them into the component as needed.</p>\n\n\n\n<p>If you create a site using WordPress (so that other participants have a good interface for adding and maintaining content) and Gatsby, the data for the site (pages and posts) is in WordPress, and you extract this data into your components as necessary.</p>\n\n\n\n<p>Data can also be located in file types such as Markdown, CSV, etc., as well as databases and APIs of all kinds.</p>\n\n\n\n<p>Gatsby&#8217;s data layer allows you to extract data from these (and any other sources) directly into your components &#8211; in the form you need.</p>\n\n\n\n<h3>Using Unstructured Data or GraphQL</h3>\n\n\n\n<div class=\"wp-block-image\"><figure class=\"aligncenter size-large\"><img loading=\"lazy\" width=\"1024\" height=\"334\" src=\"http://localhost/creador-backend/wp-content/uploads/2020/05/gatsby-graphql-1024x334.png\" alt=\"Gatsby Graphql\" class=\"wp-image-1763\" srcset=\"http://localhost/creador-backend/wp-content/uploads/2020/05/gatsby-graphql-1024x334.png 1024w, http://localhost/creador-backend/wp-content/uploads/2020/05/gatsby-graphql-300x98.png 300w, http://localhost/creador-backend/wp-content/uploads/2020/05/gatsby-graphql-768x251.png 768w, http://localhost/creador-backend/wp-content/uploads/2020/05/gatsby-graphql-1536x502.png 1536w, http://localhost/creador-backend/wp-content/uploads/2020/05/gatsby-graphql-2048x669.png 2048w\" sizes=\"(max-width: 1024px) 100vw, 1024px\" /><figcaption>Gatsby Graphql</figcaption></figure></div>\n\n\n\n<p>Is it mandatory to use GraphQL and source plugins to retrieve data on Gatsby sites?</p>\n\n\n\n<p>Not necessary!&nbsp;You can use the API&nbsp;<code>createPages</code>to extract unstructured data to Gatsby pages directly, and not through the GraphQL data layer.&nbsp;This is a great choice for small sites, while GraphQL and source plugins can help save time on more complex sites.</p>\n\n\n\n<p>See the&nbsp;<a href=\"https://www.gatsbyjs.org/docs/using-gatsby-without-graphql/\">Using Gatsby without GraphQL tutorial</a>&nbsp;for how to get data to your Gatsby site using the node API&nbsp;<code>createPages</code>and see an example site!</p>\n\n\n\n<p>When to use unstructured data, and when is GraphQL?</p>\n\n\n\n<p>If you are creating a small site, one of the effective ways to create it is to extract unstructured data, as described in this guide, using the API&nbsp;<code>createPages</code>, and then if the site becomes more complex, you proceed to create more complex sites, or you want to convert your data follow these steps:</p>\n\n\n\n<ol><li>Check&nbsp;<a href=\"https://www.gatsbyjs.org/plugins/\">the Plugin Library</a>&nbsp;to find out if there are plugin sources and / or converted plugins that you want to use</li><li>If not, read the plugin development guide and consider creating your own!</li></ol>\n\n\n\n<h3>How Gatsby&#8217;s Data Layer Uses GraphQL to Extract Data into Components</h3>\n\n\n\n<p>There are many options for loading data into React components.&nbsp;One of the most popular and powerful of them is&nbsp;<a href=\"http://graphql.org/\">GraphQL</a>&nbsp;technology.</p>\n\n\n\n<p>GraphQL was invented on Facebook to help product engineers gather the necessary data into components.</p>\n\n\n\n<p>GraphQL is a query language (QL-query language).&nbsp;If you are familiar with SQL, it works in a very similar way.&nbsp;Using special syntax, you describe the necessary data in the component, and then this data is transmitted to you.</p>\n\n\n\n<p>Gatsby uses GraphQL to allow components to declare the data they need.</p>\n\n\n\n<h3>Creating a new example site</h3>\n\n\n\n<p>Create another new site for this part of the guide.&nbsp;You are about to create a Markdown blog called “Pandas Eat A Lot.”&nbsp;It is dedicated to showcasing the best photos and videos of pandas eating a lot of food.&nbsp;Along the way, you&#8217;ll immerse your toes in GraphQL and Gatsby&#8217;s Markdown support.</p>\n\n\n\n<p>Open a new terminal window and run the following commands to create a new Gatsby website in a directory called&nbsp;<code>tutorial-part-four</code>.&nbsp;Then go to the new directory:</p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: plain; title: ; notranslate\" title=\"\">\ngatsby new tutorial-part-four https://github.com/gatsbyjs/gatsby-starter-hello-world\n\ncd tutorial-part-four\n</pre></div>\n\n\n<p>Then install some other necessary dependencies in the root of the project.&nbsp;You will use the Typography theme “Kirkham” and you will try the CSS-in-JS library,&nbsp;<a href=\"https://emotion.sh/\">“Emotion”</a>&nbsp;:</p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: plain; title: ; notranslate\" title=\"\">\nnpm install --save gatsby-plugin-typography typography react-typography typography-theme-kirkham gatsby-plugin-emotion @emotion/core\n</pre></div>\n\n\n<p>Create a site similar to what you finished in the third part.&nbsp;This site will have a layout component and two-page components:</p>\n\n\n\n<p>src / components / layout.js</p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: plain; title: ; notranslate\" title=\"\">\nimport React from &quot;react&quot;\nimport { css } from &quot;@emotion/core&quot;\nimport { Link } from &quot;gatsby&quot;\n\nimport { rhythm } from &quot;../utils/typography&quot;\n\nexport default ({ children }) =&gt; (\n  &lt;div\n    css={css`\n      margin: 0 auto;\n      max-width: 700px;\n      padding: ${rhythm(2)};\n      padding-top: ${rhythm(1.5)};\n    `}\n  &gt;\n    &lt;Link to={`/`}&gt;\n      &lt;h3\n        css={css`\n          margin-bottom: ${rhythm(2)};\n          display: inline-block;\n          font-style: normal;\n        `}\n      &gt;\n        Pandas Eating Lots\n      &lt;/h3&gt;\n    &lt;/Link&gt;\n    &lt;Link\n      to={`/about/`}\n      css={css`\n        float: right;\n      `}\n    &gt;\n      About\n    &lt;/Link&gt;\n    {children}\n  &lt;/div&gt;\n)\n</pre></div>\n\n\n<p>src / pages / index.js</p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: plain; title: ; notranslate\" title=\"\">\nimport React from &quot;react&quot;\nimport Layout from &quot;../components/layout&quot;\n\nexport default () =&gt; (\n  &lt;Layout&gt;\n    &lt;h1&gt;Amazing Pandas Eating Things&lt;/h1&gt;\n    &lt;div&gt;\n      &lt;img\n        src=&quot;https://2.bp.blogspot.com/-BMP2l6Hwvp4/TiAxeGx4CTI/AAAAAAAAD_M/XlC_mY3SoEw/s1600/panda-group-eating-bamboo.jpg&quot;\n        alt=&quot;Group of pandas eating bamboo&quot;\n      /&gt;\n    &lt;/div&gt;\n  &lt;/Layout&gt;\n)\n</pre></div>\n\n\n<p>src / pages / about.js</p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: plain; title: ; notranslate\" title=\"\">\nimport React from &quot;react&quot;\nimport Layout from &quot;../components/layout&quot;\n\nexport default () =&gt; (\n  &lt;Layout&gt;\n    &lt;h1&gt;About Pandas Eating Lots&lt;/h1&gt;\n    &lt;p&gt;\n      We're the only site running on your computer dedicated to showing the best\n      photos and videos of pandas eating lots of food.\n    &lt;/p&gt;\n  &lt;/Layout&gt;\n)\n</pre></div>\n\n\n<p>src / utils / typography.js</p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: plain; title: ; notranslate\" title=\"\">\nimport Typography from &quot;typography&quot;\nimport kirkhamTheme from &quot;typography-theme-kirkham&quot;\n\nconst typography = new Typography(kirkhamTheme)\n\nexport default typography\nexport const rhythm = typography.rhythm\n</pre></div>\n\n\n<p>gatsby-config.js</p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: plain; title: ; notranslate\" title=\"\">\nmodule.exports = {\n  plugins: &#91;\n    `gatsby-plugin-emotion`,\n    {\n      resolve: `gatsby-plugin-typography`,\n      options: {\n        pathToConfigModule: `src/utils/typography`,\n      },\n    },\n  ],\n}\n</pre></div>\n\n\n<p>Add the above files, and then run the command&nbsp;<code>gatsby develop</code>.</p>\n\n\n\n<h3>Your first GraphQL query</h3>\n\n\n\n<div class=\"wp-block-image\"><figure class=\"aligncenter size-large\"><img loading=\"lazy\" width=\"1024\" height=\"632\" src=\"http://localhost/creador-backend/wp-content/uploads/2020/05/graphql-query-1-1024x632.png\" alt=\"Graphql Query\" class=\"wp-image-1765\" srcset=\"http://localhost/creador-backend/wp-content/uploads/2020/05/graphql-query-1-1024x632.png 1024w, http://localhost/creador-backend/wp-content/uploads/2020/05/graphql-query-1-300x185.png 300w, http://localhost/creador-backend/wp-content/uploads/2020/05/graphql-query-1-768x474.png 768w, http://localhost/creador-backend/wp-content/uploads/2020/05/graphql-query-1-1536x948.png 1536w, http://localhost/creador-backend/wp-content/uploads/2020/05/graphql-query-1-2048x1265.png 2048w\" sizes=\"(max-width: 1024px) 100vw, 1024px\" /><figcaption>Graphql Query</figcaption></figure></div>\n\n\n\n<p>When creating sites, you probably want to reuse common parts of the data &#8211; for example, the name of the site.&nbsp;Look at the page&nbsp;<code>/about/</code>.&nbsp;You will notice that you have a site name (Pandas eat a lot) both in the layout component (site title) and in the&nbsp;<code>&lt;h1 /&gt;</code>page-tag&nbsp;<code>about.js</code>(page title).</p>\n\n\n\n<p>But what if you want to change the name of the site?&nbsp;You will have to search for a title in all of your components and edit each instance.&nbsp;This is both cumbersome and error-prone, especially for larger and more complex sites.&nbsp;Instead, you can store the header in one place and link to it from other files;&nbsp;change the title in one place and Gatsby will extract your updated title into files that link to it.</p>\n\n\n\n<p>The place for these shared pieces of data is the object&nbsp;<code>siteMetadata</code>in the file&nbsp;<code>gatsby-config.js</code>.&nbsp;Add the name of your site to the file&nbsp;<code>gatsby-config.js</code>:</p>\n\n\n\n<p>gatsby-config.js</p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: plain; title: ; notranslate\" title=\"\">\nmodule.exports = {\n  siteMetadata: {\n    title: `Title from siteMetadata`,\n  },\n  plugins: &#91;\n    `gatsby-plugin-emotion`,\n    {\n      resolve: `gatsby-plugin-typography`,\n      options: {\n        pathToConfigModule: `src/utils/typography`,\n      },\n    },\n  ],\n}\n</pre></div>\n\n\n<p>Reboot the development server.</p>\n\n\n\n<h3>Using Page Request</h3>\n\n\n\n<p>Now the site name is available for request.&nbsp;Add it to the file&nbsp;<code>about.js</code>using&nbsp;<a href=\"https://www.gatsbyjs.org/docs/page-query\">the page request</a>&nbsp;:</p>\n\n\n\n<p>src / pages / about.js</p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: plain; title: ; notranslate\" title=\"\">\nimport React from &quot;react&quot;\nimport { graphql } from &quot;gatsby&quot;\nimport Layout from &quot;../components/layout&quot;\n\nexport default ({ data }) =&gt; (\n  &lt;Layout&gt;\n    &lt;h1&gt;About {data.site.siteMetadata.title}&lt;/h1&gt;\n    &lt;p&gt;\n      We're the only site running on your computer dedicated to showing the best\n      photos and videos of pandas eating lots of food.\n    &lt;/p&gt;\n  &lt;/Layout&gt;\n)\n\nexport const query = graphql`\n  query {\n    site {\n      siteMetadata {\n        title\n      }\n    }\n  }\n`\n</pre></div>\n\n\n<p>Save the file</p>\n\n\n\n<h3>Using StaticQuery</h3>\n\n\n\n<p><a href=\"https://www.gatsbyjs.org/docs/static-query/\">StaticQuery</a>&nbsp;is a new API added in Gatsby v2 that allows non-page components (like the layout.js component) to retrieve data using GraphQL queries.&nbsp;Let&#8217;s use this newly introduced version of the hook &#8211;&nbsp;<a href=\"https://www.gatsbyjs.org/docs/use-static-query/\">useStaticQuery</a>.</p>\n\n\n\n<p>Make some changes to the src / components / layout.js file to use the hook&nbsp;<code>useStaticQuery</code>and the {data.site.siteMetadata.title} link that uses this data.&nbsp;When you are done, your file will look like this:</p>\n\n\n\n<p>src / components / layout.js</p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: plain; title: ; notranslate\" title=\"\">\nimport React from &quot;react&quot;\nimport { css } from &quot;@emotion/core&quot;\nimport { useStaticQuery, Link, graphql } from &quot;gatsby&quot;\n\nimport { rhythm } from &quot;../utils/typography&quot;\nexport default ({ children }) =&gt; {\n  const data = useStaticQuery(\n    graphql`\n      query {\n        site {\n          siteMetadata {\n            title\n          }\n        }\n      }\n    `\n  )\n  return (\n    &lt;div\n      css={css`\n        margin: 0 auto;\n        max-width: 700px;\n        padding: ${rhythm(2)};\n        padding-top: ${rhythm(1.5)};\n      `}\n    &gt;\n      &lt;Link to={`/`}&gt;\n        &lt;h3\n          css={css`\n            margin-bottom: ${rhythm(2)};\n            display: inline-block;\n            font-style: normal;\n          `}\n        &gt;\n          {data.site.siteMetadata.title}\n        &lt;/h3&gt;\n      &lt;/Link&gt;\n      &lt;Link\n        to={`/about/`}\n        css={css`\n          float: right;\n        `}\n      &gt;\n        О сайте\n      &lt;/Link&gt;\n      {children}\n    &lt;/div&gt;\n  )\n}\n</pre></div>\n\n\n<p>Why use two different queries here?&nbsp;These examples were a brief introduction to query types, how they are formatted, and where they can be used.&nbsp;In the meantime, keep in mind that only pages can make page requests.&nbsp;Non-page components such as Layout can use StaticQuery.&nbsp;Part 7 of the textbook explains them in more detail.</p>\n\n\n\n<p>One of the main principles of Gatsby is that the&nbsp;<em>creators need a direct connection with what they create</em>&nbsp;(&nbsp;<a href=\"http://blog.ezyang.com/2012/02/transcript-of-inventing-on-principle/\">hat tip to Bret Victor</a>&nbsp;).&nbsp;In other words, when you make any changes to the code, you should immediately see the effect of this change.&nbsp;You manipulate Gatsby input and see the new output on the screen.</p>\n\n\n\n<h2>Source Plugins</h2>\n\n\n\n<p>This tutorial will show you how to use GraphQL and source plugins to upload data to Gatsby website.&nbsp;However, before you learn about these plugins, you should know how to use the GraphiQL tool to help you structure your queries correctly.</p>\n\n\n\n<h3>Introduction to GraphiQL</h3>\n\n\n\n<p>GraphiQL is GraphQL&#8217;s integrated development environment (IDE).&nbsp;This is a powerful tool that you&#8217;ll often use when building Gatsby websites.</p>\n\n\n\n<p>You can access it when your site’s development server is running &#8211; usually at&nbsp;<a href=\"http://localhost:8000/graphql\">http: // localhost: 8000/graphql</a>&nbsp;.</p>\n\n\n\n<p>Browse the built-in site “type” and see which fields are available on it — including the siteMetadata object that you requested earlier.&nbsp;Try to open GraphiQL and play with your data!&nbsp;Press Ctrl + Space (or use Shift + Space as an alternative keyboard shortcut) to open the autocomplete window, and Ctrl + Enter to start the GraphQL query.&nbsp;In the remainder of the lesson, you will use GraphiQL much more.</p>\n\n\n\n<h4>USING THE GRAPHIQL BROWSER</h4>\n\n\n\n<p>GraphiQL Browser allows you to interactively create complete queries by clicking on the available fields and input data without repeating the process of manually entering these queries.</p>\n\n\n\n<p>Data to Gatsby sites can come from anywhere: APIs, databases, CMS, local files, etc.</p>\n\n\n\n<p>Source plugins retrieve data from their source.&nbsp;For example, the source filesystem plugin knows how to extract data from a file system.&nbsp;The WordPress plugin knows how to get data from the WordPress API.</p>\n\n\n\n<p>Add&nbsp;<code>gatsby-source-filesystem</code>and learn how it works.</p>\n\n\n\n<p>First, install the plugin in the root of the project:</p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: plain; title: ; notranslate\" title=\"\">\nnpm install --save gatsby-source-filesystem\n</pre></div>\n\n\n<p>Then add it to the file&nbsp;<code>gatsby-config.js</code>:</p>\n\n\n\n<p>gatsby-config.js</p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: plain; title: ; notranslate\" title=\"\">\nmodule.exports = {\n  siteMetadata: {\n    title: `Pandas Eating Lots`,\n  },\n  plugins: &#91;\n    {\n      resolve: `gatsby-source-filesystem`,\n      options: {\n        name: `src`,\n        path: `${__dirname}/src/`,\n      },\n    },\n    `gatsby-plugin-emotion`,\n    {\n      resolve: `gatsby-plugin-typography`,\n      options: {\n        pathToConfigModule: `src/utils/typography`,\n      },\n    },\n  ],\n}\n</pre></div>\n\n\n<p>Save this and reboot the gatsby development server.&nbsp;Then open GraphiQL again.</p>\n\n\n\n<p>In the explorer area, you will see&nbsp;<code>allFile</code>and&nbsp;<code>file</code>, available as selected.</p>\n\n\n\n<p>Click the allFile drop-down list.&nbsp;Place the cursor after all files in the request area, and then type Ctrl + Enter.&nbsp;This will allow you to pre-fill the request for the identifier of each file.&nbsp;Click the “Play” button to complete the request.</p>\n\n\n\n<p>In the explorer panel, the id field was selected automatically.&nbsp;Make a selection for more fields by checking the corresponding field checkbox.&nbsp;Click the “Play” button to run the query again with the new fields.</p>\n\n\n\n<p>In addition, you can add fields using the autocomplete keyboard shortcut (Ctrl + spacebar).</p>\n\n\n\n<p>Try adding several fields to the query, press Ctrl + Enter each time to re-execute the query.&nbsp;You will see the updated query results:</p>\n\n\n\n<h3>Creating a Page Using GraphQL Queries</h3>\n\n\n\n<p>Creating new pages with Gatsby often starts in GraphiQL.&nbsp;First, you sketch out a data query while playing in GraphiQL, and then copy it to the React component page to begin building the user interface.</p>\n\n\n\n<p>Create a new file&nbsp;<code>src/pages/my-files.js</code>with the GraphQL query&nbsp;<code>allFile</code>that you just created:</p>\n\n\n\n<p>src / pages / my-files.js</p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: plain; title: ; notranslate\" title=\"\">\nimport React from &quot;react&quot;\nimport { graphql } from &quot;gatsby&quot;\nimport Layout from &quot;../components/layout&quot;\n\nexport default ({ data }) =&gt; {\n  console.log(data)\n  return (\n    &lt;Layout&gt;\n      &lt;div&gt;Hello world&lt;/div&gt;\n    &lt;/Layout&gt;\n  )\n}\n\nexport const query = graphql`\n  query {\n    allFile {\n      edges {\n        node {\n          relativePath\n          prettySize\n          extension\n          birthTime(fromNow: true)\n        }\n      }\n    }\n  }\n`\n</pre></div>\n\n\n<p>The line is&nbsp;<code>console.log(data)</code>often useful when creating a new component to display the data that you get from the GraphQL query so that you can examine the data in the browser console while building the user interface.</p>\n\n\n\n<p>If you go to a new page in&nbsp;<code>/my-files/</code>and open the browser console, you will see something like:</p>\n\n\n\n<p>The data form is the same as the GraphQL query form.</p>\n\n\n\n<p>Add some code to the component to print the file data.</p>\n\n\n\n<p>src / pages / my-files.js</p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: plain; title: ; notranslate\" title=\"\">\nimport React from &quot;react&quot;\nimport { graphql } from &quot;gatsby&quot;\nimport Layout from &quot;../components/layout&quot;\n\nexport default ({ data }) =&gt; {\n  console.log(data)\n  return (\n    &lt;Layout&gt;\n      &lt;div&gt;\n        &lt;h1&gt;My Site's Files&lt;/h1&gt;\n        &lt;table&gt;\n          &lt;thead&gt;\n            &lt;tr&gt;\n              &lt;th&gt;relativePath&lt;/th&gt;\n              &lt;th&gt;prettySize&lt;/th&gt;\n              &lt;th&gt;extension&lt;/th&gt;\n              &lt;th&gt;birthTime&lt;/th&gt;\n            &lt;/tr&gt;\n          &lt;/thead&gt;\n          &lt;tbody&gt;\n            {data.allFile.edges.map(({ node }, index) =&gt; (\n              &lt;tr key={index}&gt;\n                &lt;td&gt;{node.relativePath}&lt;/td&gt;\n                &lt;td&gt;{node.prettySize}&lt;/td&gt;\n                &lt;td&gt;{node.extension}&lt;/td&gt;\n                &lt;td&gt;{node.birthTime}&lt;/td&gt;\n              &lt;/tr&gt;\n            ))}\n          &lt;/tbody&gt;\n        &lt;/table&gt;\n      &lt;/div&gt;\n    &lt;/Layout&gt;\n  )\n}\n\nexport const query = graphql`\n  query {\n    allFile {\n      edges {\n        node {\n          relativePath\n          prettySize\n          extension\n          birthTime(fromNow: true)\n        }\n      }\n    }\n  }\n`\n</pre></div>\n\n\n<p>Now visit&nbsp;<code>http://localhost:8000/my-files</code>&#8230;</p>\n\n\n\n<p>Now you’ve learned how to source plugins bring data to the Gatsby data system.&nbsp;In the next lesson, you will learn how transformer plugins transform the raw content that source plugins bring.&nbsp;The combination of source plugins and transformer plugins can handle all the data sources and data transformations that you might need when creating a Gatsby website.&nbsp;Learn about transformer plugins in the sixth part of this guide.</p>\n\n\n\n<h2>Transformer Plugins</h2>\n\n\n\n<p>The previous lesson showed how to source plugins deliver data to the Gatsby data system.&nbsp;In this tutorial, you will learn how transformer plugins transform the original content obtained with source plugins.&nbsp;The combination of source plugins and transformer plugins can process all data sources and convert the data that may be required when creating a site on Gatsby.</p>\n\n\n\n<p>Often the data format that you get from source plugins is not what you want to use to create your website.&nbsp;The source filesystem plugin allows you to request data about files, but what if you want to request data inside files?</p>\n\n\n\n<p>To make this possible, Gatsby supports transformer plugins that take raw content from source plugins and transform it into something more useful.</p>\n\n\n\n<p>Take markdown files, for example.&nbsp;It is convenient to write articles in markdown, but when you create a page with it, you need markdown to be converted to HTML.</p>\n\n\n\n<p>Add the markdown file to your website at src/pages / sweet-pandas-eating-sweets.md (this will be your first markdown blog post) and learn how to convert it to HTML using the transformer and GraphQL plugins.</p>\n\n\n\n<p>src / pages / sweet-pandas-eating-sweets.md</p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: plain; title: ; notranslate\" title=\"\">\n---\ntitle: &quot;Sweet Pandas Eating Sweets&quot;\ndate: &quot;2017-08-10&quot;\n---\n\nPandas are really sweet.\n\nHere's a video of a panda eating sweets.\n\n&lt;iframe width=&quot;560&quot; height=&quot;315&quot; src=&quot;https://www.youtube.com/embed/4n0xNbfJLR8&quot; frameborder=&quot;0&quot; allowfullscreen&gt;&lt;/iframe&gt;\n</pre></div>\n\n\n<p>Once you save the file, look&nbsp;<code>/my-files/</code>again &#8211; the new markdown file is in the table.&nbsp;This is a very powerful feature of Gatsby.&nbsp;As in the previous example&nbsp;<code>siteMetadata</code>, source plugins can perform a quick reload of data.&nbsp;<code>gatsby-source-filesystem</code>always looking for new files to be added, and when they appear, it re-executes your requests.</p>\n\n\n\n<p>Add a transformer plugin that can convert markdown files:</p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: plain; title: ; notranslate\" title=\"\">\nnpm install --save gatsby-transformer-remark\n</pre></div>\n\n\n<p>Then add it to&nbsp;<code>gatsby-config.js</code>:</p>\n\n\n\n<p>gatsby-config.js</p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: plain; title: ; notranslate\" title=\"\">\nmodule.exports = {\n  siteMetadata: {\n    title: `Pandas Eating Lots`,\n  },\n  plugins: &#91;\n    {\n      resolve: `gatsby-source-filesystem`,\n      options: {\n        name: `src`,\n        path: `${__dirname}/src/`,\n      },\n    },\n    `gatsby-transformer-remark`,\n    `gatsby-plugin-emotion`,\n    {\n      resolve: `gatsby-plugin-typography`,\n      options: {\n        pathToConfigModule: `src/utils/typography`,\n      },\n    },\n  ],\n}\n</pre></div>\n\n\n<p>Reboot the development server, then refresh (or open again) GraphiQL and look at the autocomplete.</p>\n\n\n\n<p>Again select&nbsp;<code>allMarkdownRemark</code>and run it the same way as for&nbsp;<code>allFile</code>.&nbsp;You will see there a markdown file that you recently added.&nbsp;Explore the fields available on the site&nbsp;<code>MarkdownRemark</code>.</p>\n\n\n\n<h3>Creating a list of markdown files for your site in src/pages / index.js</h3>\n\n\n\n<p>Now you will need to create a list of your markdown files on the first page.&nbsp;As with many blogs, you want the final link list on the first page to point to each blog post.&nbsp;With GraphQL, you can query the current list of blog posts by markdown so you don’t need to maintain the list manually.</p>\n\n\n\n<p>Like a page&nbsp;<code>src/pages/my-files.js</code>, replace&nbsp;<code>src/pages/index.js</code>with the following to add a GraphQL query with some initial HTML and style.</p>\n\n\n\n<p>src / pages / index.js</p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: plain; title: ; notranslate\" title=\"\">\nimport React from &quot;react&quot;\nimport { graphql } from &quot;gatsby&quot;\nimport { css } from &quot;@emotion/core&quot;\nimport { rhythm } from &quot;../utils/typography&quot;\nimport Layout from &quot;../components/layout&quot;\n\nexport default ({ data }) =&gt; {\n  console.log(data)\n  return (\n    &lt;Layout&gt;\n      &lt;div&gt;\n        &lt;h1\n          css={css`\n            display: inline-block;\n            border-bottom: 1px solid;\n          `}\n        &gt;\n          Amazing Pandas Eating Things\n        &lt;/h1&gt;\n        &lt;h4&gt;{data.allMarkdownRemark.totalCount} Posts&lt;/h4&gt;\n        {data.allMarkdownRemark.edges.map(({ node }) =&gt; (\n          &lt;div key={node.id}&gt;\n            &lt;h3\n              css={css`\n                margin-bottom: ${rhythm(1 / 4)};\n              `}\n            &gt;\n              {node.frontmatter.title}{&quot; &quot;}\n              &lt;span\n                css={css`\n                  color: #bbb;\n                `}\n              &gt;\n                — {node.frontmatter.date}\n              &lt;/span&gt;\n            &lt;/h3&gt;\n            &lt;p&gt;{node.excerpt}&lt;/p&gt;\n          &lt;/div&gt;\n        ))}\n      &lt;/div&gt;\n    &lt;/Layout&gt;\n  )\n}\n\nexport const query = graphql`\n  query {\n    allMarkdownRemark {\n      totalCount\n      edges {\n        node {\n          id\n          frontmatter {\n            title\n            date(formatString: &quot;DD MMMM, YYYY&quot;)\n          }\n          excerpt\n        }\n      }\n    }\n  }\n`\n</pre></div>\n\n\n<p>But your only blog post looks a little lonely.&nbsp;So let&#8217;s add another one to&nbsp;<code>src/pages/pandas-and-bananas.md</code>.</p>\n\n\n\n<p>src / pages / pandas-and-bananas.md</p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: plain; title: ; notranslate\" title=\"\">\n---\ntitle: &quot;Pandas and Bananas&quot;\ndate: &quot;2017-08-21&quot;\n---\n\nDo Pandas eat bananas? Check out this short video that shows that yes! pandas do\nseem to really enjoy bananas!\n\n&lt;iframe width=&quot;560&quot; height=&quot;315&quot; src=&quot;https://www.youtube.com/embed/4SZl1r2O_bY&quot; frameborder=&quot;0&quot; allowfullscreen&gt;&lt;/iframe&gt;\n</pre></div>\n\n\n<p>It looks great!&nbsp;That&#8217;s just &#8230; the order of the posts is wrong.</p>\n\n\n\n<p>But this is easy to fix.&nbsp;When requesting a connection of a certain type, you can pass many arguments to a GraphQL query.&nbsp;You can sort and filter the nodes, set the number of nodes to skip, and choose a limit on the number of nodes to be retrieved.&nbsp;With this powerful set of operators you can select any data you want &#8211; in the format you need.</p>\n\n\n\n<p>In the GraphQL query, change the index page&nbsp;<code>allMarkdownRemark</code>to&nbsp;<code>allMarkdownRemark(sort: { fields: [frontmatter___date], order: DESC })</code>.&nbsp;Note: there are 3 underscores between frontmatter and date.&nbsp;Save this and the sort order should be set.</p>\n\n\n\n<p>Try opening GraphiQL and playing around with different sorting options.&nbsp;You can sort a compound&nbsp;<code>allFile</code>along with other compounds.</p>\n\n\n\n<p>For more documentation on our query operators, explore our&nbsp;<a href=\"https://www.gatsbyjs.org/docs/graphql-reference/\">GraphQL reference</a>.</p>\n\n\n\n<p>It&#8217;s great!&nbsp;You have just created a beautiful index page where you request your markdown files and create a list of headings and excerpts from blog entries.&nbsp;But you do not want to just see excerpts, you need real pages for your markdown files.</p>\n\n\n\n<p>You can continue to create pages by placing React components in&nbsp;<code>src/pages</code>.&nbsp;However, later you will learn how to programmatically create pages from data.&nbsp;Gatsby is not limited to creating pages from files, like many static site generators.&nbsp;Gatsby allows you to use GraphQL to query data and display query results on pages &#8211; all at build time.&nbsp;This is a really powerful idea.&nbsp;You will learn its effects and uses in the next tutorial, where you will learn how to&nbsp;<a href=\"https://www.gatsbyjs.org/tutorial/part-seven/\">programmatically create pages from data</a>.</p>\n\n\n\n<h2>Programmatically creating pages from data</h2>\n\n\n\n<p>In the previous guide, you created a beautiful index page that requests markdown files and creates a list of headings and excerpts from blog entries.&nbsp;But you need not just excerpts, but real pages for your markdown files.</p>\n\n\n\n<p>You can continue to create pages by placing React components in&nbsp;<code>src/pages</code>.&nbsp;However, now you will learn how to programmatically create pages from data.&nbsp;Gatsby is not limited to creating pages from files, like many static site generators.&nbsp;Gatsby allows you to use GraphQL to query data and display query results on pages &#8211; all at build time.</p>\n\n\n\n<h3>Create page slugs</h3>\n\n\n\n<p>To create a new page, you need to perform two steps:</p>\n\n\n\n<ol><li>Create a “path” or “slug” for the page.</li><li>Create page.</li></ol>\n\n\n\n<p>slug is a human-readable fragment of text from a URL, unlike, for example, an ID, which can be an incomprehensible character set.</p>\n\n\n\n<p>Note: often data sources directly provide a slug or a path for content &#8211; when working with one of these systems (for example, CMS), you do not need to create slugs yourself, as you do with markdown files.</p>\n\n\n\n<p>To create markdown pages, you will learn how to use two Gatsby APIs:&nbsp;<code>onCreateNode</code>and&nbsp;<code>createPages</code>.&nbsp;These are two API workhorses that you will see on many sites and plugins.</p>\n\n\n\n<p>We do our best to make the Gatsby API easy to implement.&nbsp;To implement the API, you must export a function named API from&nbsp;<code>gatsby-node.js</code>.</p>\n\n\n\n<p>In the root of your site, create a file with the name&nbsp;<code>gatsby-node.js</code>.&nbsp;Then add the following to it.</p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: plain; title: ; notranslate\" title=\"\">\nexports.onCreateNode = ({ node }) =&gt; {\n  console.log(node.internal.type)\n}\n</pre></div>\n\n\n<p>This function&nbsp;<code>onCreateNode</code>will be called by Gatsby whenever a new node is created (or updated).</p>\n\n\n\n<p>Stop and restart the development server.&nbsp;Once you do this, you will see that quite a few newly created nodes will go into the terminal console.</p>\n\n\n\n<p>In the next section, you will use this API to add slacks for your Markdown site pages&nbsp;<code>MarkdownRemark</code>.</p>\n\n\n\n<p>gatsby-node.js</p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: plain; title: ; notranslate\" title=\"\">\nexports.onCreateNode = ({ node }) =&gt; {\n  if (node.internal.type === `MarkdownRemark`) {\n    console.log(node.internal.type)\n  }\n}\n</pre></div>\n\n\n<p>You want to use each markdown file name to create the page slug.&nbsp;So it&nbsp;<code>pandas-and-bananas.md</code>will be&nbsp;<code>/pandas-and-bananas/</code>.&nbsp;But how to get the file name from the node&nbsp;<code>MarkdownRemark</code>?&nbsp;To get it, you need to cross the “nodal graph” to its parent node&nbsp;<code>File</code>, since the nodes&nbsp;<code>File</code>contain the data you need about the files on disk.&nbsp;To do this, change your function again:</p>\n\n\n\n<p>gatsby-node.js</p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: plain; title: ; notranslate\" title=\"\">\nexports.onCreateNode = ({ node, getNode }) =&gt; {\n  if (node.internal.type === `MarkdownRemark`) {\n    const fileNode = getNode(node.parent)\n    console.log(`\\n`, fileNode.relativePath)\n  }\n}\n</pre></div>\n\n\n<p>After rebooting the development server, you should see the relative paths for the two markdown files printed on the terminal screen.</p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: plain; title: ; notranslate\" title=\"\">\n pages/sweet-pandas-eating-sweets.md\n\n pages/pandas-and-bananas.md\n</pre></div>\n\n\n<p>Now you have to create slacks.&nbsp;Since the logic for creating slugs from file names can be complex, the plugin&nbsp;<code>gatsby-source-filesystem</code>comes with a function for creating slugs.&nbsp;Let&#8217;s take advantage of this.</p>\n\n\n\n<p>gatsby-node.js</p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: plain; title: ; notranslate\" title=\"\">\nconst { createFilePath } = require(`gatsby-source-filesystem`)\n\nexports.onCreateNode = ({ node, getNode }) =&gt; {\n  if (node.internal.type === `MarkdownRemark`) {\n    console.log(createFilePath({ node, getNode, basePath: `pages` }))\n  }\n}\n</pre></div>\n\n\n<p>The function handles the search for the parent node&nbsp;<code>File</code>along with the creation of the slug.&nbsp;Run the development server again and you will see that the terminal has two slugs, one for each markdown file.</p>\n\n\n\n<p>Now you can add new slugs directly to nodes&nbsp;<code>MarkdownRemark</code>.&nbsp;This is very important since any data that you add to nodes is available for a subsequent queries using GraphQL.&nbsp;So when it comes time to create pages, it will be easy to get a slug.</p>\n\n\n\n<p>To do this, you will use the function passed to your API implementation called&nbsp;<code>createNodeField</code>.&nbsp;This function allows you to create additional fields in nodes created by other plugins.&nbsp;Only the original creator of the node can directly modify the node &#8211; all other plugins (including yours&nbsp;<code>gatsby-node.js</code>) should use this function to create additional fields.</p>\n\n\n\n<p>gatsby-node.js</p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: plain; title: ; notranslate\" title=\"\">\nconst { createFilePath } = require(`gatsby-source-filesystem`)\nexports.onCreateNode = ({ node, getNode, actions }) =&gt; {\n  const { createNodeField } = actions\n  if (node.internal.type === `MarkdownRemark`) {\n    const slug = createFilePath({ node, getNode, basePath: `pages` })\n    createNodeField({\n      node,\n      name: `slug`,\n      value: slug,\n    })\n  }\n}\n</pre></div>\n\n\n<p>Reboot the development server and open or update GraphiQL.&nbsp;Then run this GraphQL query to see your new slugs.</p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: plain; title: ; notranslate\" title=\"\">\n{\n  allMarkdownRemark {\n    edges {\n      node {\n        fields {\n          slug\n        }\n      }\n    }\n  }\n}\n</pre></div>\n\n\n<p>Now that the slags are created, you can create pages.</p>\n\n\n\n<h3>Page creation</h3>\n\n\n\n<p>In the same file&nbsp;<code>gatsby-node.js</code>, add the following.</p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: plain; title: ; notranslate\" title=\"\">\nconst { createFilePath } = require(`gatsby-source-filesystem`)\n\nexports.onCreateNode = ({ node, getNode, actions }) =&gt; {\n  const { createNodeField } = actions\n  if (node.internal.type === `MarkdownRemark`) {\n    const slug = createFilePath({ node, getNode, basePath: `pages` })\n    createNodeField({\n      node,\n      name: `slug`,\n      value: slug,\n    })\n  }\n}\n\nexports.createPages = async ({ graphql, actions }) =&gt; {\n  // **Note:** The graphql function call returns a Promise\n  // see: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise for more info\n  const result = await graphql(`\n    query {\n      allMarkdownRemark {\n        edges {\n          node {\n            fields {\n              slug\n            }\n          }\n        }\n      }\n    }\n  `)\n  console.log(JSON.stringify(result, null, 4))\n}\n</pre></div>\n\n\n<p>You have added an API implementation&nbsp;<code>createPages</code>that calls Gatsby so plugins can add pages.</p>\n\n\n\n<p>As mentioned in the introduction to this part of the manual, the steps for programmatically creating pages are:</p>\n\n\n\n<ol><li>Querying data with GraphQL</li><li>Display query results on pages</li></ol>\n\n\n\n<p>The above code is the first step to create pages from your markdown, as you use the provided function&nbsp;<code>graphql</code>to request the markdown slugs you created.&nbsp;Then you print the result of the query, which should look like this:</p>\n\n\n\n<p>To create pages, you will need one more thing besides the slug: the page template component.&nbsp;Like everything in Gatsby, program pages are powered by React components.&nbsp;When creating a page, you must specify which component to use.</p>\n\n\n\n<p>Create a directory in&nbsp;<code>src/templates</code>, and then add the following to a file named&nbsp;<code>src/templates/blog-post.js</code>.</p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: plain; title: ; notranslate\" title=\"\">\nimport React from &quot;react&quot;\nimport Layout from &quot;../components/layout&quot;\n\nexport default () =&gt; {\n  return (\n    &lt;Layout&gt;\n      &lt;div&gt;Hello blog post&lt;/div&gt;\n    &lt;/Layout&gt;\n  )\n}\n</pre></div>\n\n\n<p>Then modify gatsby-node.js</p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: plain; title: ; notranslate\" title=\"\">\nconst path = require(`path`)\nconst { createFilePath } = require(`gatsby-source-filesystem`)\n\nexports.onCreateNode = ({ node, getNode, actions }) =&gt; {\n  const { createNodeField } = actions\n  if (node.internal.type === `MarkdownRemark`) {\n    const slug = createFilePath({ node, getNode, basePath: `pages` })\n    createNodeField({\n      node,\n      name: `slug`,\n      value: slug,\n    })\n  }\n}\n\nexports.createPages = async ({ graphql, actions }) =&gt; {\n  const { createPage } = actions\n  const result = await graphql(`\n    query {\n      allMarkdownRemark {\n        edges {\n          node {\n            fields {\n              slug\n            }\n          }\n        }\n      }\n    }\n  `)\n\n  result.data.allMarkdownRemark.edges.forEach(({ node }) =&gt; {\n    createPage({\n      path: node.fields.slug,\n      component: path.resolve(`./src/templates/blog-post.js`),\n      context: {\n        // Data passed to context is available\n        // in page queries as GraphQL variables.\n        slug: node.fields.slug,\n      },\n    })\n  })\n}\n</pre></div>\n\n\n<p>Restart the development server and your pages will be created!&nbsp;An easy way to find new pages that you create during development is to go to a random path where Gatsby will happily show you a list of pages on the site.&nbsp;If you go to&nbsp;<a href=\"http://localhost:8000/sdf\">http://localhost: 8000/sdf</a>&nbsp;, you will see the new pages that you created.</p>\n\n\n\n<p>This is a little boring and not what you want.&nbsp;Now you can get data from your markdown post.&nbsp;Change&nbsp;<code>src/templates/blog-post.js</code>as follows:</p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: plain; title: ; notranslate\" title=\"\">\nimport React from &quot;react&quot;\nimport { graphql } from &quot;gatsby&quot;\nimport Layout from &quot;../components/layout&quot;\n\nexport default ({ data }) =&gt; {\n  const post = data.markdownRemark\n  return (\n    &lt;Layout&gt;\n      &lt;div&gt;\n        &lt;h1&gt;{post.frontmatter.title}&lt;/h1&gt;\n        &lt;div dangerouslySetInnerHTML={{ __html: post.html }} /&gt;\n      &lt;/div&gt;\n    &lt;/Layout&gt;\n  )\n}\n\nexport const query = graphql`\n  query($slug: String!) {\n    markdownRemark(fields: { slug: { eq: $slug } }) {\n      html\n      frontmatter {\n        title\n      }\n    }\n  }\n`\n</pre></div>\n\n\n<p>The final step is to link to your new pages from the index page.</p>\n\n\n\n<p>Go back to&nbsp;<code>src/pages/index.js</code>request your markdown slacks and create links.</p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: plain; title: ; notranslate\" title=\"\">\nimport React from &quot;react&quot;\nimport { css } from &quot;@emotion/core&quot;\nimport { Link, graphql } from &quot;gatsby&quot;\nimport { rhythm } from &quot;../utils/typography&quot;\nimport Layout from &quot;../components/layout&quot;\n\nexport default ({ data }) =&gt; {\n  return (\n    &lt;Layout&gt;\n      &lt;div&gt;\n        &lt;h1\n          css={css`\n            display: inline-block;\n            border-bottom: 1px solid;\n          `}\n        &gt;\n          Amazing Pandas Eating Things\n        &lt;/h1&gt;\n        &lt;h4&gt;{data.allMarkdownRemark.totalCount} Posts&lt;/h4&gt;\n        {data.allMarkdownRemark.edges.map(({ node }) =&gt; (\n          &lt;div key={node.id}&gt;\n            &lt;Link\n              to={node.fields.slug}\n              css={css`\n                text-decoration: none;\n                color: inherit;\n              `}\n            &gt;\n              &lt;h3\n                css={css`\n                  margin-bottom: ${rhythm(1 / 4)};\n                `}\n              &gt;\n                {node.frontmatter.title}{&quot; &quot;}\n                &lt;span\n                  css={css`\n                    color: #555;\n                  `}\n                &gt;\n                  — {node.frontmatter.date}\n                &lt;/span&gt;\n              &lt;/h3&gt;\n              &lt;p&gt;{node.excerpt}&lt;/p&gt;\n            &lt;/Link&gt;\n          &lt;/div&gt;\n        ))}\n      &lt;/div&gt;\n    &lt;/Layout&gt;\n  )\n}\n\nexport const query = graphql`\n  query {\n    allMarkdownRemark(sort: { fields: &#91;frontmatter___date], order: DESC }) {\n      totalCount\n      edges {\n        node {\n          id\n          frontmatter {\n            title\n            date(formatString: &quot;DD MMMM, YYYY&quot;)\n          }\n          fields {\n            slug\n          }\n          excerpt\n        }\n      }\n    }\n  }\n`\n</pre></div>\n\n\n<p>In this part of the tutorial, you learned the basics of a building using the Gatsby data layer.&nbsp;You learned how to create and transform data using plugins, how to use GraphQL to display data on pages, and then how to create page template components that request data for each page.</p>\n","title":"Gatsby JS starter guide for beginners","date":"March 29, 2020","featuredImage":{"node":{"altText":"","localFile":{"childImageSharp":{"fluid":{"tracedSVG":"data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='400'%20height='218'%20viewBox='0%200%20400%20218'%20preserveAspectRatio='none'%3e%3cpath%20d='M0%20109v109h401V0H0v109m69-40c-41%2015-36%2074%207%2081%2039%207%2065-42%2036-71a43%2043%200%2000-43-10m3%209c-9%203-17%2010-20%2019l-2%205%2020%2019%2020%2020%203-1c11-4%2020-15%2022-26l1-5H95v6h7l7%201-2%205c-3%205-8%2010-13%2012-2%201-3%200-20-16L57%2099l2-3c9-16%2030-19%2042-6l4%203%202-2%203-2-5-4c-9-8-23-11-33-7m218%2030v25h4l4-1h4c10%205%2020-2%2020-14s-11-20-21-14l-3%202V82h-8v26M168%2088c-8%204-13%2012-13%2022%200%2030%2043%2033%2048%203v-5h-21v8h5c6%200%206%201%203%205-6%208-21%205-25-5-6-15%2011-28%2023-19l4%203%203-2c3-2%203-2%202-4-5-7-20-10-29-6m82%205h-4v5l-1%205c-2%200-2%201-2%204%200%202%200%203%202%203l1%2012v11h8v-23h3c3%200%203%200%203-3s0-4-3-4c-2%200-3-1-3-5v-5h-4m-38%2011c-7%204-9%2014-5%2022%204%207%2015%2010%2020%206l2-1c1%201%202%202%205%202h4v-30h-4c-4%200-5%200-5%202l-3-1c-3-3-9-3-14%200m55%200c-6%206-3%2013%206%2016%203%202%205%204%203%206-2%201-5%201-8-1-2-1-2-1-4%201-3%202-2%204%202%206%2010%204%2019%200%2019-9%200-5-1-7-8-9-3-1-4-2-4-4s3-3%205-1c1%201%202%200%204-1%203-4%201-5-7-6-5%200-6%200-8%202m56%201l8%2013%205%2010-5%2010-5%2010%204%201h5l4-8%2012-23%208-15h-10l-3%208-5%208-5-8-4-7-5-1h-5l1%202m-103%205c-9%203-7%2016%202%2016%2010%200%2011-14%202-16h-4m84%200c-10%202-8%2016%202%2016%207%200%2011-9%206-14-3-2-6-3-8-2m-254%204c3%2015%2013%2025%2029%2027%203%201%203%201-12-15l-17-16v4'%20fill='%23d3d3d3'%20fill-rule='evenodd'/%3e%3c/svg%3e","aspectRatio":1.838235294117647,"src":"/static/992e4beb0be3860058645652fb635ac5/bc8e0/gatsbyjs.png","srcSet":"/static/992e4beb0be3860058645652fb635ac5/002c1/gatsbyjs.png 250w,\n/static/992e4beb0be3860058645652fb635ac5/53f65/gatsbyjs.png 500w,\n/static/992e4beb0be3860058645652fb635ac5/bc8e0/gatsbyjs.png 800w","sizes":"(max-width: 800px) 100vw, 800px"}}}}}},"previous":{"uri":"/how-to-create-procedural-art-in-less-than-100-lines-of-code/","title":"How to create procedural art in less than 100 lines of code"},"next":{"uri":"/introduction-to-tensorflow-js-machine-learning-in-javascript/","title":"Introduction to TensorFlow.js: Machine Learning in Javascript"}},"pageContext":{"id":"cG9zdDoxNTYw","previousPostId":"cG9zdDoxNTY4","nextPostId":"cG9zdDoxNDE1"}},"staticQueryHashes":["104267996","1682016598","848497233"]}