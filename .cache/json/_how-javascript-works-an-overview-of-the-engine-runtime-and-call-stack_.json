{"data":{"post":{"id":"cG9zdDoxNDE3","excerpt":"<p>JavaScript is becoming increasingly popular, and teams use it at different levels of their stack — front-end, back-end, hybrid, embedded devices, and more. This post is intended to take a deeper look at JavaScript and its work: knowing the building blocks of JavaScript and how they interact with each other, you can write code better.&nbsp;In [&hellip;]</p>\n","content":"\n<p>JavaScript is becoming increasingly popular, and teams use it at different levels of their stack — front-end, back-end, hybrid, embedded devices, and more.</p>\n\n\n\n<p>This post is intended to take a deeper look at JavaScript and its work: knowing the building blocks of JavaScript and how they interact with each other, you can write code better.&nbsp;In future articles, we will also share some of the practical rules that we use when developing&nbsp;<a href=\"https://www.sessionstack.com\">SessionStack</a>, a lightweight JavaScript application that needs to be reliable and high-performance in order to remain competitive.</p>\n\n\n\n<p>As you can see from the <a href=\"http://githut.info/\">GitHub statistics</a>, JavaScript is at the top in terms of active repositories and Total Pushes in GitHub. He is not much behind in other categories.</p>\n\n\n\n<div class=\"wp-block-image\"><figure class=\"aligncenter size-large\"><span class=\"wp-image-1537 inline-gatsby-image-wrapper gatsby-image-wrapper\" style=\"position:relative;overflow:hidden;max-width:100%;width:800px\" data-reactroot=\"\"><span aria-hidden=\"true\" style=\"width:100%;padding-bottom:51%\"></span><img aria-hidden=\"true\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAABk0lEQVQozy2N2a7bMAxE/f9/2KLtvUhiW/tCySRFLS6SFpinwZw520n3v2i+zSe23YamxnGm8nRBYzc4bPv0fOv2Xr5qf4Bsr2soWlZuw8vwCv02NI4Ih08qFZ3rbr0K8QSyfLt2KxzvC1qK1vbj96+fX38cym7sro0veBjjMijrTmvjRY/9CJUO417aeJSv124KnbU/M20KcPcp8HIx+OATdm+V886pR9C7986fj5hzSjF461I2+7dN2fGy2DfLU9eW+x0rpopVVgaAC71+BfWEAkHvKUVnT6cPn8EZZUL0NByNzeIwhbPMTALEV1+VmKRnr5M5kCm5A4mTN8FpYAnBOQAL9W02l+iMRRZwLyzYJzKzSI0OnGqNwGtqrZacY6hthODjheESh/KG1X94VO5vuEnrvSZfgxZpJegmvRaAFK8+Y4oJObUV2tx0bXso8IELd5R5sfBYJTrwRsbKTnEftbzV17hjzpl6bDPw3MzVdW2pzUASUTJ3IKkyoVYoBfvMkGvrgJQq5jZjxUgjtuV5/QWFCTfC8W2A6AAAAABJRU5ErkJggg==\" alt=\"\" style=\"position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:0;transition-delay:500ms\"/><picture><source srcSet=\"/static/869f764b3b0456893ffcb8734c5de698/f8f3a/img-01-3.png 200w,\n/static/869f764b3b0456893ffcb8734c5de698/6a8a8/img-01-3.png 400w,\n/static/869f764b3b0456893ffcb8734c5de698/7842b/img-01-3.png 800w\" sizes=\"(max-width: 800px) 100vw, 800px\"/><img sizes=\"(max-width: 800px) 100vw, 800px\" srcSet=\"/static/869f764b3b0456893ffcb8734c5de698/f8f3a/img-01-3.png 200w,\n/static/869f764b3b0456893ffcb8734c5de698/6a8a8/img-01-3.png 400w,\n/static/869f764b3b0456893ffcb8734c5de698/7842b/img-01-3.png 800w\" src=\"/static/869f764b3b0456893ffcb8734c5de698/7842b/img-01-3.png\" alt=\"Github Statistics\" loading=\"eager\" style=\"position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition:opacity 500ms\"/></picture><noscript><picture><source srcset=\"/static/869f764b3b0456893ffcb8734c5de698/f8f3a/img-01-3.png 200w,\n/static/869f764b3b0456893ffcb8734c5de698/6a8a8/img-01-3.png 400w,\n/static/869f764b3b0456893ffcb8734c5de698/7842b/img-01-3.png 800w\" sizes=\"(max-width: 800px) 100vw, 800px\" /><img loading=\"eager\" sizes=\"(max-width: 800px) 100vw, 800px\" srcset=\"/static/869f764b3b0456893ffcb8734c5de698/f8f3a/img-01-3.png 200w,\n/static/869f764b3b0456893ffcb8734c5de698/6a8a8/img-01-3.png 400w,\n/static/869f764b3b0456893ffcb8734c5de698/7842b/img-01-3.png 800w\" src=\"/static/869f764b3b0456893ffcb8734c5de698/7842b/img-01-3.png\" alt=\"Github Statistics\" style=\"position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center\"/></picture></noscript></span></figure></div>\n\n\n\n<p>(&nbsp;<a href=\"https://madnight.github.io/githut/\">Check up-to-date language statistics on GitHub</a>&nbsp;).</p>\n\n\n\n<p>As projects rely more and more on JavaScript, developers need to have a good understanding of the internal structure and capabilities of the ecosystem to create good software.</p>\n\n\n\n<p>As it turned out, many developers use JavaScript daily, but they don’t know what is happening under the hood.</p>\n\n\n\n<h2>Overview</h2>\n\n\n\n<p>Almost everyone has heard of the V8 Engine as a concept, and most people know that JavaScript is single-threaded or uses a callback queue.</p>\n\n\n\n<p>In this post, we will take a detailed look at all of these concepts and explain how JavaScript actually works.&nbsp;Knowing these details, you can write the best non-blocking applications that properly use the provided APIs.</p>\n\n\n\n<p>If you are new to JavaScript, this post will help you understand why JavaScript is so “weird” compared to other languages.</p>\n\n\n\n<p>If you&#8217;re an experienced JavaScript developer, here you will find the latest information on how the JavaScript Runtime actually works, which you use every day.</p>\n\n\n\n<h2 id=\"javascript\">JavaScript engine</h2>\n\n\n\n<p>A popular example of the JavaScript engine is the Google V8 engine.&nbsp;For example, V8 is used inside Chrome and Node.js.&nbsp;Here is a very simplified view of how it looks:</p>\n\n\n\n<div class=\"wp-block-image\"><figure class=\"aligncenter size-large\"><span class=\"wp-image-1538 inline-gatsby-image-wrapper gatsby-image-wrapper\" style=\"position:relative;overflow:hidden;max-width:100%;width:800px\" data-reactroot=\"\"><span aria-hidden=\"true\" style=\"width:100%;padding-bottom:75%\"></span><img aria-hidden=\"true\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAABeUlEQVQoz6XR30rDMBQG8L2QvsQeTvHeG59AvFFwaDdtu1qhfwLDWtdug8UyUWe7JqfTrWnWJTInXgidAz9ycfjgdziQmqyO+HobUqtQcsnjkt3Jxb1YTH7KLbAoV3h6Gpr12/M6zy5+ym0xp8cnR7uH+zvz9GzVbYvlUkpZTF0S7cHooHjvrEshxB+Yc54zVhRFwRffm5ZLxlie539gIYRtWerVpa7qLaX58fGez+ftdrvVaimKYtt2WZaVOAO41gw/Kl7o633o9cIextjzvNlsxhjTNI1SWokBqGnZSSZvEu1qoOD+I37EGOP1wbZtb8KUEPfOk89P0nHGAMHDQxRFnufFcZymqaqqWZZVY0pdhFZTwcdvb0G3u8ZJkhBCNE0DgEpMCO103KYhxxNJSdztBlEU+b6fpikA6Lq+CQOAYRiv4+kkhX6/F4bhaDQyTXMwGAyHw0ajselsKWUQBAg5CLkIIcYY5xwh5DiOZVm+7//66pr8Rz4BKoJQm4nw6mAAAAAASUVORK5CYII=\" alt=\"\" style=\"position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:0;transition-delay:500ms\"/><picture><source srcSet=\"/static/4064394f9b7f1fafb49a8ace19f23c42/f8f3a/img-02-3.png 200w,\n/static/4064394f9b7f1fafb49a8ace19f23c42/6a8a8/img-02-3.png 400w,\n/static/4064394f9b7f1fafb49a8ace19f23c42/7842b/img-02-3.png 800w\" sizes=\"(max-width: 800px) 100vw, 800px\"/><img sizes=\"(max-width: 800px) 100vw, 800px\" srcSet=\"/static/4064394f9b7f1fafb49a8ace19f23c42/f8f3a/img-02-3.png 200w,\n/static/4064394f9b7f1fafb49a8ace19f23c42/6a8a8/img-02-3.png 400w,\n/static/4064394f9b7f1fafb49a8ace19f23c42/7842b/img-02-3.png 800w\" src=\"/static/4064394f9b7f1fafb49a8ace19f23c42/7842b/img-02-3.png\" alt=\"JavaScript Heap Engine\" loading=\"eager\" style=\"position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition:opacity 500ms\"/></picture><noscript><picture><source srcset=\"/static/4064394f9b7f1fafb49a8ace19f23c42/f8f3a/img-02-3.png 200w,\n/static/4064394f9b7f1fafb49a8ace19f23c42/6a8a8/img-02-3.png 400w,\n/static/4064394f9b7f1fafb49a8ace19f23c42/7842b/img-02-3.png 800w\" sizes=\"(max-width: 800px) 100vw, 800px\" /><img loading=\"eager\" sizes=\"(max-width: 800px) 100vw, 800px\" srcset=\"/static/4064394f9b7f1fafb49a8ace19f23c42/f8f3a/img-02-3.png 200w,\n/static/4064394f9b7f1fafb49a8ace19f23c42/6a8a8/img-02-3.png 400w,\n/static/4064394f9b7f1fafb49a8ace19f23c42/7842b/img-02-3.png 800w\" src=\"/static/4064394f9b7f1fafb49a8ace19f23c42/7842b/img-02-3.png\" alt=\"JavaScript Heap Engine\" style=\"position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center\"/></picture></noscript></span></figure></div>\n\n\n\n<p>The mechanism consists of two main components:</p>\n\n\n\n<ul><li>Memory Heap &#8211; memory is allocated here;</li><li>Call Stack &#8211; this is where the stack frames are located when executing the code.</li></ul>\n\n\n\n<h2 id=\"theruntime\">The runtime</h2>\n\n\n\n<p>Almost every JavaScript developer uses browser-based APIs (for example, “setTimeout”).&nbsp;However, these APIs are not provided by the engine.</p>\n\n\n\n<p>So where are they from?</p>\n\n\n\n<p>It turns out that reality is a little more complicated.</p>\n\n\n\n<div class=\"wp-block-image\"><figure class=\"aligncenter size-large\"><span class=\"wp-image-1539 inline-gatsby-image-wrapper gatsby-image-wrapper\" style=\"position:relative;overflow:hidden;max-width:100%;width:800px\" data-reactroot=\"\"><span aria-hidden=\"true\" style=\"width:100%;padding-bottom:75%\"></span><img aria-hidden=\"true\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAACoklEQVQ4y5VT2W7TQBT1T/BlvPABIJB46UMFYhNiUYWERHniGSREAQnoB6TN4iRO7CS1idzGJErbNK6yekkcO4s9B90JcdqqL4x0NTP3js49Z+aMgP8YjLFL69WW5ihiPCfM53PYtn0hHFi2w+eLeTq3BloBh2AR5aO4kVAsFpHJZHBwcIBSqYRSSYGqKiiXFb6nPNUVRVlChCHBwnEZ6k0HWrWN49MROr0IEz+CQAdns9la1/gLzn7fx9z+GaeoXi6XL8l/+8HBrXt93H0wxJ3NAW7e7iKVD5aAjuPEd9KqbmD7+Q3UlCf/JEZccqVSgeuOoOuHODfPsLM7xcazAR5vWXj6xsLmiyFK2hSCLMuYTCZx56mTgN16j6mbWZMejzlDakjrKJzj8w8PD19bePnOxqttG4+2LJQJkDqb7TZOjpuo1+sYWmMO4gch3zebTQwGA36XF0cyF+DjtzG+7nrY+eXh0/cxGifzpeRUKoWcJEOraChIeYxGDgoFibOiSCaTICU0oii6ZJ+rQxDFDFKZLFouUJmpkLQs2i0Tuq7Hh7LZLNLpdAxI2sOIYbFgWITrIC8KWVFEjrqbJiZGBapxiPO2yZmR1OFwiP39fUagSxsu6bFraHJjE2BeyiNwfSAIcXh0BNM0uQe73S56vR4BkhfZykJhGMbr6XTKY+lPQEhnRMjFHIoa4M+BP4aOk9NTznA0GvFXJYZ7e3twXZd1Oh22WCw4IVKwahoEwfqn5HI56PoRjJrBgahjoVAA1WRZZolEgtErE1i1WmVkM8MwyAWsVquh0WhA0zT0+30IJI0k0aXTnM/nuUUkSeI5URQZMVRVlfxKrDhDy7LofjlLWhNL3/chUJGked6EG5wk0s+h2fM8HlRf0JNeeYPrbPMXzHJMZpK4HrUAAAAASUVORK5CYII=\" alt=\"\" style=\"position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:0;transition-delay:500ms\"/><picture><source srcSet=\"/static/b3c3c34b18b3008a70e01e9376d77f46/f8f3a/img-03-3.png 200w,\n/static/b3c3c34b18b3008a70e01e9376d77f46/6a8a8/img-03-3.png 400w,\n/static/b3c3c34b18b3008a70e01e9376d77f46/7842b/img-03-3.png 800w\" sizes=\"(max-width: 800px) 100vw, 800px\"/><img sizes=\"(max-width: 800px) 100vw, 800px\" srcSet=\"/static/b3c3c34b18b3008a70e01e9376d77f46/f8f3a/img-03-3.png 200w,\n/static/b3c3c34b18b3008a70e01e9376d77f46/6a8a8/img-03-3.png 400w,\n/static/b3c3c34b18b3008a70e01e9376d77f46/7842b/img-03-3.png 800w\" src=\"/static/b3c3c34b18b3008a70e01e9376d77f46/7842b/img-03-3.png\" alt=\"How Javascript works\" loading=\"eager\" style=\"position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition:opacity 500ms\"/></picture><noscript><picture><source srcset=\"/static/b3c3c34b18b3008a70e01e9376d77f46/f8f3a/img-03-3.png 200w,\n/static/b3c3c34b18b3008a70e01e9376d77f46/6a8a8/img-03-3.png 400w,\n/static/b3c3c34b18b3008a70e01e9376d77f46/7842b/img-03-3.png 800w\" sizes=\"(max-width: 800px) 100vw, 800px\" /><img loading=\"eager\" sizes=\"(max-width: 800px) 100vw, 800px\" srcset=\"/static/b3c3c34b18b3008a70e01e9376d77f46/f8f3a/img-03-3.png 200w,\n/static/b3c3c34b18b3008a70e01e9376d77f46/6a8a8/img-03-3.png 400w,\n/static/b3c3c34b18b3008a70e01e9376d77f46/7842b/img-03-3.png 800w\" src=\"/static/b3c3c34b18b3008a70e01e9376d77f46/7842b/img-03-3.png\" alt=\"How Javascript works\" style=\"position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center\"/></picture></noscript></span></figure></div>\n\n\n\n<p>So, we have an engine, but actually a lot more &#8211; things like web APIs provided by browsers: DOM, AJAX, setTimeout and many others.</p>\n\n\n\n<p>And also, we have a popular event loop and callback queue.</p>\n\n\n\n<h2>Call stack</h2>\n\n\n\n<p>JavaScript is a single-threaded programming language, which means that it has one call stack.&nbsp;Therefore, he can do one thing at a time.</p>\n\n\n\n<p>The call stack is a data structure that basically records where we are in the program.&nbsp;If we go into a function, we put it on top of the stack.&nbsp;If we return from the function, we will pop out of the top of the stack.&nbsp;That is all the stack can do.</p>\n\n\n\n<p>Here is an example.&nbsp;Take a look at the following code:</p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: plain; title: ; notranslate\" title=\"\">\nfunction multiply(x, y) {\n    return x * y;\n}\n</pre></div>\n\n\n<p>When the engine starts executing this code, the call stack will be empty.&nbsp;After that, the steps will be as follows:</p>\n\n\n\n<div class=\"wp-block-image\"><figure class=\"aligncenter size-large\"><img loading=\"lazy\" width=\"800\" height=\"600\" src=\"/static/add7f4161b8bfa2326ff8860df3aeabe/img-04-2.png\" alt=\"Call Stack\" class=\"wp-image-1540\" srcset=\"/static/add7f4161b8bfa2326ff8860df3aeabe/img-04-2.png 800w, http://localhost/creador-backend/wp-content/uploads/2020/03/img-04-2-300x225.png 300w, http://localhost/creador-backend/wp-content/uploads/2020/03/img-04-2-768x576.png 768w, http://localhost/creador-backend/wp-content/uploads/2020/03/img-04-2-86x64.png 86w\" sizes=\"(max-width: 800px) 100vw, 800px\" /></figure></div>\n\n\n\n<p>Each entry in the call stack is called a Stack Frame.</p>\n\n\n\n<p>And this is exactly how the trace stack is built when an exception is thrown &#8211; basically, this is the state of the call stack at the moment it happened.&nbsp;Take a look at the following code:</p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: plain; title: ; notranslate\" title=\"\">\nfunction foo() {\n    throw new Error('SessionStack will help you resolve crashes :)');\n}\n</pre></div>\n\n\n<p>If this code is executed in Chrome (provided that this code is in a file named foo.js), the following stack trace will be displayed:</p>\n\n\n\n<div class=\"wp-block-image\"><figure class=\"aligncenter size-large\"><img loading=\"lazy\" width=\"507\" height=\"73\" src=\"/static/678f6a7415085f8b77aa4ede17b3f4d8/img-05-3.png\" alt=\"Chrome Error Code\" class=\"wp-image-1541\" srcset=\"/static/678f6a7415085f8b77aa4ede17b3f4d8/img-05-3.png 507w, http://localhost/creador-backend/wp-content/uploads/2020/03/img-05-3-300x43.png 300w\" sizes=\"(max-width: 507px) 100vw, 507px\" /></figure></div>\n\n\n\n<p>“Blowing the stack” &#8211; occurs when you reach the maximum size of the call stack.&nbsp;This can happen quite easily, for example, when using recursion without thoroughly testing the code.&nbsp;Take a look at an example:</p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: plain; title: ; notranslate\" title=\"\">\nfunction foo() {\n    foo();\n}\n</pre></div>\n\n\n<p>The engine starts executing the code by calling the “foo” function.&nbsp;However, this function is recursive and starts calling itself without any termination conditions.&nbsp;Thus, at each stage of execution, the same function is added to the call stack over and over again.&nbsp;It looks something like this:</p>\n\n\n\n<div class=\"wp-block-image\"><figure class=\"aligncenter size-large\"><span class=\"wp-image-1542 inline-gatsby-image-wrapper gatsby-image-wrapper\" style=\"position:relative;overflow:hidden;max-width:100%;width:800px\" data-reactroot=\"\"><span aria-hidden=\"true\" style=\"width:100%;padding-bottom:75%\"></span><img aria-hidden=\"true\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAABaklEQVQoz6WS246qMBRA+f8fMVEokgjx5cTf8EFRpEVrKvTCpReQybAnODnnzCSTWU9ts1f3pfXGn/CcmLfeN3GMMUrpMAxfxXjf5On73lo7p3LOVVXFOXfOvWRrrTEG9p/XbmK+y1p7vV6LotBaf8jOOUopIaRtW2PM7XaDtda6mOi6DkLv9/tyuVwsFhhj6MuTUsJNUsqyLI0xz+eTc16WZT8hhIDKMcYIId/3j8fjh6yUgtqapqmqqu/7cRyVUpxzmK1SCmaGMQ7DECF0Op1+LBNCgiBYrVZpmv4t13XNGANZCPF4PEAWQkDA5XJZr9cIof/L0PMwDEqpLMv+TOR5DgPL8xx6fpUtpazruus6pRSldLvdbjabNE0xxr7vB0FwPp9BJoREURSGIZy8y5zz3W6XJMl+v2eMxXEcRdHhcCiKIp7IsmyWkySJ4/glW2vVRNu21tqmaeCRtdb1xPwl/j3xxl/wK/kNPMJR698abpkAAAAASUVORK5CYII=\" alt=\"\" style=\"position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:0;transition-delay:500ms\"/><picture><source srcSet=\"/static/b24aab0584a71fd76480e4b18164bcf8/f8f3a/img-06-2.png 200w,\n/static/b24aab0584a71fd76480e4b18164bcf8/6a8a8/img-06-2.png 400w,\n/static/b24aab0584a71fd76480e4b18164bcf8/7842b/img-06-2.png 800w\" sizes=\"(max-width: 800px) 100vw, 800px\"/><img sizes=\"(max-width: 800px) 100vw, 800px\" srcSet=\"/static/b24aab0584a71fd76480e4b18164bcf8/f8f3a/img-06-2.png 200w,\n/static/b24aab0584a71fd76480e4b18164bcf8/6a8a8/img-06-2.png 400w,\n/static/b24aab0584a71fd76480e4b18164bcf8/7842b/img-06-2.png 800w\" src=\"/static/b24aab0584a71fd76480e4b18164bcf8/7842b/img-06-2.png\" alt=\"Javascript Stack\" loading=\"eager\" style=\"position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition:opacity 500ms\"/></picture><noscript><picture><source srcset=\"/static/b24aab0584a71fd76480e4b18164bcf8/f8f3a/img-06-2.png 200w,\n/static/b24aab0584a71fd76480e4b18164bcf8/6a8a8/img-06-2.png 400w,\n/static/b24aab0584a71fd76480e4b18164bcf8/7842b/img-06-2.png 800w\" sizes=\"(max-width: 800px) 100vw, 800px\" /><img loading=\"eager\" sizes=\"(max-width: 800px) 100vw, 800px\" srcset=\"/static/b24aab0584a71fd76480e4b18164bcf8/f8f3a/img-06-2.png 200w,\n/static/b24aab0584a71fd76480e4b18164bcf8/6a8a8/img-06-2.png 400w,\n/static/b24aab0584a71fd76480e4b18164bcf8/7842b/img-06-2.png 800w\" src=\"/static/b24aab0584a71fd76480e4b18164bcf8/7842b/img-06-2.png\" alt=\"Javascript Stack\" style=\"position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center\"/></picture></noscript></span></figure></div>\n\n\n\n<p>At some point, the number of function calls in the call stack exceeds the actual size of the call stack, and the browser decides to take action, giving an error that might look something like this:</p>\n\n\n\n<div class=\"wp-block-image\"><figure class=\"aligncenter size-large\"><span class=\"wp-image-1545 inline-gatsby-image-wrapper gatsby-image-wrapper\" style=\"position:relative;overflow:hidden;max-width:100%;width:386px\" data-reactroot=\"\"><span aria-hidden=\"true\" style=\"width:100%;padding-bottom:5.154639175257732%\"></span><img aria-hidden=\"true\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAIAAABR8BlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAPUlEQVQI1y3GMQrAIBBFwdz/aCEo+BF1F/UQWvpImkw117qf7fZKR8KMEJAYgzlJiZxpDXdq/eNOKcRI7x9VFjVEOCFl5AAAAABJRU5ErkJggg==\" alt=\"\" style=\"position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:0;transition-delay:500ms\"/><picture><source srcSet=\"/static/f26a01176c84f1df038ad647b978dc79/69f4b/img-07-1.png 97w,\n/static/f26a01176c84f1df038ad647b978dc79/c85ac/img-07-1.png 193w,\n/static/f26a01176c84f1df038ad647b978dc79/3dc64/img-07-1.png 386w\" sizes=\"(max-width: 386px) 100vw, 386px\"/><img sizes=\"(max-width: 386px) 100vw, 386px\" srcSet=\"/static/f26a01176c84f1df038ad647b978dc79/69f4b/img-07-1.png 97w,\n/static/f26a01176c84f1df038ad647b978dc79/c85ac/img-07-1.png 193w,\n/static/f26a01176c84f1df038ad647b978dc79/3dc64/img-07-1.png 386w\" src=\"/static/f26a01176c84f1df038ad647b978dc79/3dc64/img-07-1.png\" alt=\"Chrome Error\" loading=\"eager\" style=\"position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition:opacity 500ms\"/></picture><noscript><picture><source srcset=\"/static/f26a01176c84f1df038ad647b978dc79/69f4b/img-07-1.png 97w,\n/static/f26a01176c84f1df038ad647b978dc79/c85ac/img-07-1.png 193w,\n/static/f26a01176c84f1df038ad647b978dc79/3dc64/img-07-1.png 386w\" sizes=\"(max-width: 386px) 100vw, 386px\" /><img loading=\"eager\" sizes=\"(max-width: 386px) 100vw, 386px\" srcset=\"/static/f26a01176c84f1df038ad647b978dc79/69f4b/img-07-1.png 97w,\n/static/f26a01176c84f1df038ad647b978dc79/c85ac/img-07-1.png 193w,\n/static/f26a01176c84f1df038ad647b978dc79/3dc64/img-07-1.png 386w\" src=\"/static/f26a01176c84f1df038ad647b978dc79/3dc64/img-07-1.png\" alt=\"Chrome Error\" style=\"position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center\"/></picture></noscript></span></figure></div>\n\n\n\n<p>Executing code in a single thread can be quite simple, since you do not need to deal with complex scripts that arise in multi-threaded environments, such as deadlocks.</p>\n\n\n\n<p>But working with a single thread is also quite limited.&nbsp;Since JavaScript has one call stack, what happens when we run slow tasks?</p>\n\n\n\n<h2 id=\"eventloop\">Concurrency and Event Loop</h2>\n\n\n\n<p>What happens when you have function calls in the call stack that take a huge amount of time to process?&nbsp;For example, imagine that you want to perform complex image conversion using JavaScript in a browser.</p>\n\n\n\n<p>Why is this a problem? The problem is that, despite the fact that the call stack has functions to execute, the browser cannot actually do anything else &#8211; it is blocked — the browser cannot render, cannot execute any other code. </p>\n\n\n\n<p>It just hung and this is a problem for the UI, and not the only one. Once your browser begins to process many tasks in the call stack, it may stop responding for quite some time. Most browsers throw an error asking you if you want to close the web page.</p>\n\n\n\n<div class=\"wp-block-image\"><figure class=\"aligncenter size-large\"><span class=\"wp-image-1546 inline-gatsby-image-wrapper gatsby-image-wrapper\" style=\"position:relative;overflow:hidden;max-width:100%;width:462px\" data-reactroot=\"\"><span aria-hidden=\"true\" style=\"width:100%;padding-bottom:62.06896551724138%\"></span><img aria-hidden=\"true\" src=\"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAMABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAECBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHsNrIo/8QAGRAAAgMBAAAAAAAAAAAAAAAAABEBAhMS/9oACAEBAAEFAuIecGdBjGf/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAZEAACAwEAAAAAAAAAAAAAAAAAAREgMjH/2gAIAQEABj8CyoOIyqf/xAAZEAACAwEAAAAAAAAAAAAAAAAAEQEh8WH/2gAIAQEAAT8huRxSjOMEYcY//9oADAMBAAIAAwAAABBXH//EABYRAAMAAAAAAAAAAAAAAAAAAAABEf/aAAgBAwEBPxCIiP/EABcRAAMBAAAAAAAAAAAAAAAAAAABEVH/2gAIAQIBAT8Qr0r0/8QAHBAAAgEFAQAAAAAAAAAAAAAAAAERITFBYYFx/9oACAEBAAE/EJmpGBTgn3TyQZuRKc30aEJG/T//2Q==\" alt=\"\" style=\"position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:0;transition-delay:500ms\"/><picture><source srcSet=\"/static/b0cc94653504ade72ec8470b0dc23e2e/24831/img-08.jpg 116w,\n/static/b0cc94653504ade72ec8470b0dc23e2e/adf1b/img-08.jpg 231w,\n/static/b0cc94653504ade72ec8470b0dc23e2e/55010/img-08.jpg 462w\" sizes=\"(max-width: 462px) 100vw, 462px\"/><img sizes=\"(max-width: 462px) 100vw, 462px\" srcSet=\"/static/b0cc94653504ade72ec8470b0dc23e2e/24831/img-08.jpg 116w,\n/static/b0cc94653504ade72ec8470b0dc23e2e/adf1b/img-08.jpg 231w,\n/static/b0cc94653504ade72ec8470b0dc23e2e/55010/img-08.jpg 462w\" src=\"/static/b0cc94653504ade72ec8470b0dc23e2e/55010/img-08.jpg\" alt=\"Chrome Unresponsive\" loading=\"eager\" style=\"position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition:opacity 500ms\"/></picture><noscript><picture><source srcset=\"/static/b0cc94653504ade72ec8470b0dc23e2e/24831/img-08.jpg 116w,\n/static/b0cc94653504ade72ec8470b0dc23e2e/adf1b/img-08.jpg 231w,\n/static/b0cc94653504ade72ec8470b0dc23e2e/55010/img-08.jpg 462w\" sizes=\"(max-width: 462px) 100vw, 462px\" /><img loading=\"eager\" sizes=\"(max-width: 462px) 100vw, 462px\" srcset=\"/static/b0cc94653504ade72ec8470b0dc23e2e/24831/img-08.jpg 116w,\n/static/b0cc94653504ade72ec8470b0dc23e2e/adf1b/img-08.jpg 231w,\n/static/b0cc94653504ade72ec8470b0dc23e2e/55010/img-08.jpg 462w\" src=\"/static/b0cc94653504ade72ec8470b0dc23e2e/55010/img-08.jpg\" alt=\"Chrome Unresponsive\" style=\"position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center\"/></picture></noscript></span></figure></div>\n\n\n\n<p>This is not the best UX right now, is it?</p>\n\n\n\n<p>So, how do you execute heavy code without blocking the user interface and without causing the browser to hang?&nbsp;The solution is asynchronous callbacks.</p>\n\n\n\n<p>This is described in more detail in the second part:&nbsp;<a href=\"https://blog.sessionstack.com/how-javascript-works-inside-the-v8-engine-5-tips-on-how-to-write-optimized-code-ac089e62b12e\">“Inside the V8 + 5 tips on how to write optimized code”</a></p>\n\n\n\n<p>If you find it difficult to reproduce and understand problems in your JavaScript applications, take a look at <a href=\"https://www.sessionstack.com\">SessionStack</a>. SessionStack records everything in your web applications: all DOM changes, user interactions, JavaScript exceptions, stack traces, failed network requests, and debugging messages.</p>\n\n\n\n<div class=\"wp-block-image\"><figure class=\"aligncenter size-large\"><span class=\"wp-image-1547 inline-gatsby-image-wrapper gatsby-image-wrapper\" style=\"position:relative;overflow:hidden;max-width:100%;width:800px\" data-reactroot=\"\"><span aria-hidden=\"true\" style=\"width:100%;padding-bottom:55.5%\"></span><img aria-hidden=\"true\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACNUlEQVQoz03NT08TQRzG8X1bRg6oQBAqELSgMTGGEA9ywZioL0QPnogJN41ReQVixIiU7b9lWypI6S5td+nszOzO7M785o9p1MQnn+s3jyOksMo+P/rkfHj06nRXCxtSNSRqiMei1ATEDKgVSjIJArQEDWDGlHHynOc871yGe8NOn6E0zbMCUmNTO5YJRblkOQgFQms5ZsBYMFZIcFBConjE0txKk2WS8lzlXL3d0dvv1PZ7i5C1ViklcMLCgPcvsjDMgl7WOwfOnRilFxGNcB7jPIg4E1BgfLC8tj+7+mNqGfudQikmINj56G5u1F88rT174m5uVB6vo0bdiRHpRzhJC5yKjAteAKV0sfzg2vStmdnSgVunNB2hBEdR0jv/KwySMKQ4cQYJnPbFiAiSSSml1opQunhvbWJmeXJ+xfPb1lpjjLH/TWsLyhTCubxEmKSMZUWR53nOGceY3L6/Pjl3Z6q02qh7qihUIVR/qK3VhdCcq1EC3UC2fzqcZVlKU0o4YwokwRihZOnu2sT00o3SasPzoRtAswVuUw1j8FpQPwK/o9ymPqw5gxhFiMSIJJRRJkZoHC+sPLxyfeH6/ErTb5uTM6jUxo3bgKqnqk1zWEvrft8/dZbeFHNbam4Lbm7B1df65WcCDJXKf+Ky12rzblAc1qHq6aqn3AavHZ0dd78P6Fcsnf2u2G2R/a446MGXk6LVIwSjf89lv9U+pqLSGzXO467/q3k2rFwku1juYfiGxW98qyslH9lHLgAAAABJRU5ErkJggg==\" alt=\"\" style=\"position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:0;transition-delay:500ms\"/><picture><source srcSet=\"/static/4dbd0d1e880f63eb7081bca449375023/f8f3a/img-09.png 200w,\n/static/4dbd0d1e880f63eb7081bca449375023/6a8a8/img-09.png 400w,\n/static/4dbd0d1e880f63eb7081bca449375023/7842b/img-09.png 800w\" sizes=\"(max-width: 800px) 100vw, 800px\"/><img sizes=\"(max-width: 800px) 100vw, 800px\" srcSet=\"/static/4dbd0d1e880f63eb7081bca449375023/f8f3a/img-09.png 200w,\n/static/4dbd0d1e880f63eb7081bca449375023/6a8a8/img-09.png 400w,\n/static/4dbd0d1e880f63eb7081bca449375023/7842b/img-09.png 800w\" src=\"/static/4dbd0d1e880f63eb7081bca449375023/7842b/img-09.png\" alt=\"Javascript App\" loading=\"eager\" style=\"position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition:opacity 500ms\"/></picture><noscript><picture><source srcset=\"/static/4dbd0d1e880f63eb7081bca449375023/f8f3a/img-09.png 200w,\n/static/4dbd0d1e880f63eb7081bca449375023/6a8a8/img-09.png 400w,\n/static/4dbd0d1e880f63eb7081bca449375023/7842b/img-09.png 800w\" sizes=\"(max-width: 800px) 100vw, 800px\" /><img loading=\"eager\" sizes=\"(max-width: 800px) 100vw, 800px\" srcset=\"/static/4dbd0d1e880f63eb7081bca449375023/f8f3a/img-09.png 200w,\n/static/4dbd0d1e880f63eb7081bca449375023/6a8a8/img-09.png 400w,\n/static/4dbd0d1e880f63eb7081bca449375023/7842b/img-09.png 800w\" src=\"/static/4dbd0d1e880f63eb7081bca449375023/7842b/img-09.png\" alt=\"Javascript App\" style=\"position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center\"/></picture></noscript></span></figure></div>\n\n\n\n<p></p>\n","title":"How JavaScript Works: An Overview of Engine, Runtime, and Stack","date":"March 14, 2020","featuredImage":{"node":{"altText":"","localFile":{"childImageSharp":{"fluid":{"tracedSVG":"data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='400'%20height='300'%20viewBox='0%200%20400%20300'%20preserveAspectRatio='none'%3e%3cpath%20d='M205%2052c-7%204-6%2010%202%2015l5%204c0%203-4%203-7%202-2-2-6-2-6%201s8%206%2013%204c8-2%207-11-1-15-6-3-7-7-1-6%205%201%207%200%205-3-3-3-7-3-10-2m-15%2011c0%2011-1%2013-5%2010-2-2-5-1-5%202%200%202%206%204%2010%204%205-1%206-4%206-16V52h-6v11m31%2070c-4%203-4%204-4%2066v60l3%203%203%203h70l3-3%203-3V138l-3-3-2-3h-36l-37%201m-114%202c-2%200-4%202-4%204l-1%2061v59l3%203%203%203h70l3-3%203-3V139l-2-3-3-2-35-1c-29%200-35%200-37%202m116%204c-2%203-1%20119%200%20120%202%202%2068%202%2070%200%201-1%202-117%200-120-1-3-69-3-70%200m-114%200c-2%201-2%205-2%2060l1%2060c2%202%2068%202%2070%200s2-118%200-120h-69m42%2028v7h14v-14h-14v7m-15%2025v7h14v-15h-14v8m-9%2040l1%208h14v-15h-15v7'%20fill='%23d3d3d3'%20fill-rule='evenodd'/%3e%3c/svg%3e","aspectRatio":1.3297872340425532,"src":"/static/4064394f9b7f1fafb49a8ace19f23c42/bc8e0/img-02-3.png","srcSet":"/static/4064394f9b7f1fafb49a8ace19f23c42/002c1/img-02-3.png 250w,\n/static/4064394f9b7f1fafb49a8ace19f23c42/53f65/img-02-3.png 500w,\n/static/4064394f9b7f1fafb49a8ace19f23c42/bc8e0/img-02-3.png 800w","sizes":"(max-width: 800px) 100vw, 800px"}}}}}},"previous":{"uri":"/introduction-to-tensorflow-js-machine-learning-in-javascript/","title":"Introduction to TensorFlow.js: Machine Learning in Javascript"},"next":{"uri":"/ecmascript-how-to-make-an-http-request-using-the-fetch-api/","title":"EcmaScript how to make an HTTP request using the Fetch API"}},"pageContext":{"id":"cG9zdDoxNDE3","previousPostId":"cG9zdDoxNDE1","nextPostId":"cG9zdDoxNDE5"}}